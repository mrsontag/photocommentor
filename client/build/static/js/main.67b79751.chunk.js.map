{"version":3,"sources":["views/photopage.module.css","views/newphotopage.module.css","Components/addcomment.module.css","views/photo.module.css","views/login.js","views/auth0secureapi.js","views/photo.js","views/newgallery.js","views/newphotopage.js","views/galleries.js","views/gallery.js","Components/target.js","Components/addcomment.js","views/photopage.js","authroutes.js","views/galleries_nologin.js","App.js","reportWebVitals.js","index.js","views/gallery.module.css"],"names":["module","exports","Login","useAuth0","loginWithRedirect","logout","type","onClick","auth0SecureAPI","getAccessTokenSilently","endpoint","body","a","accessToken","payload","method","headers","Authorization","JSON","stringify","fetch","response","json","console","log","message","Photo","props","photo","path","_id","ratings","comments","Navigate","useNavigate","className","styles","small","src","alt","map","rating","user_id","comment","x","y","Gallery","user","isLoading","useState","gallery","setGallery","useEffect","gallery_name","authorized_user_ids","container","floating","name","value","onChange","e","target","toString","split","gallery_update","owner_id","sub","then","res","catch","err","NewPhotoPage","togallery","setPhoto","gallery_id","length","Galleries","isAuthenticated","galleries","setGalleries","temp_galleries","email","id","photoslist","editMode","setEditMode","invisible","visible","topalign","Target","onClickPassed","xloc","yloc","diam","active","hidden","text","showdiam","Math","max","style","display","position","border","top","left","borderRadius","width","height","padding","margin","color","onMouseDown","stopPropagation","AddComment","commentloc","setCommentLoc","setActiveComment","textvalue","setTextValue","xpct","ypct","diampct","addcomment","rows","cols","temp_photo","user_name","PhotoPage","imagebox","setValue","activecomment","setDiam","selection","setSelection","image","useRef","imgcontainer","ref","event","new_selection","clientX","window","pageXOffset","clientY","pageYOffset","onMouseUp","current","getBoundingClientRect","round","onMouseMove","preventDefault","selectiondiam","sqrt","onLoad","Box","component","mb","borderColor","Rating","newValue","newrating","found","setMyRating","alert","AuthRoutes","FetchGalleries","GalleriesNoLogin","Button","navigate","bind","CardDeck","Card","Img","variant","Title","Body","title","Footer","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","audience","scope","document","getElementById"],"mappings":"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","file":"static/js/main.67b79751.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"photopage_container__GUJqG\",\"invisible\":\"photopage_invisible__3k6NC\",\"floating\":\"photopage_floating__3-nOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"newphotopage_container__3u8Ys\",\"invisible\":\"newphotopage_invisible__V0F9x\",\"floating\":\"newphotopage_floating__HliyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"addcomment_hidden__1gKDJ\",\"addcomment\":\"addcomment_addcomment__DweRn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"small\":\"photo_small__2tgGO\"};","import React from \"react\";\r\nimport {Link} from \"@reach/router\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n//import styles from \"./login.module.css\"; \r\n\r\nconst Login = () => {\r\n    const { loginWithRedirect,logout } = useAuth0();\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1 >Welcome to Photo Commentor</h1>\r\n                <button type='button' onClick={() => loginWithRedirect()}>Login or Register</button>\r\n                <button type='button' onClick={() => logout()}>Logout</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","const auth0SecureAPI = async (getAccessTokenSilently, endpoint, body) => {\r\n    let payload;\r\n    try {\r\n        const accessToken = await getAccessTokenSilently({});\r\n        let response;\r\n        if(body) {\r\n            payload = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(body)\r\n            };\r\n        } else {\r\n            payload = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            };\r\n        }\r\n        response = await fetch(\"http://localhost:8002/api/\" + endpoint, payload);\r\n        return response.json();\r\n    } catch (e) {\r\n        console.log(e.message);\r\n    }\r\n}\r\n\r\nexport default auth0SecureAPI;","import { useNavigate } from '@reach/router';\r\nimport React from 'react';\r\nimport styles from './photo.module.css';\r\n\r\n\r\n\r\nconst Photo = props => {\r\n    const { path, _id, ratings, comments } = props.photo;\r\n    const Navigate = useNavigate();\r\n    \r\n    return (\r\n        <div className={styles.small} onClick={() => Navigate(\"/photos/\" + _id)}>\r\n            <img src={path} alt=\"Comment-tagged\"/>\r\n            <h5>Ratings</h5>\r\n            { ratings && ratings.map((rating) => {\r\n                return (\r\n                    <p>{rating.user_id} - {rating.rating}</p>\r\n                )\r\n            })}\r\n            <h5>Comments</h5>\r\n            { comments && comments.map((comment) => {\r\n                return (\r\n                    <p>{`${comment.user_id} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst Gallery = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [ gallery, setGallery ] = useState({});\r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            setGallery({gallery_name:\"New gallery . . . \", authorized_user_ids: \"List authorized users . . . \"});\r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: user.sub\r\n        }\r\n        console.log(gallery_update);\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/new\", gallery_update)\r\n        .then(res => {\r\n            Navigate(\"/gallery/\" + res._id);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <button onClick={()=> Navigate(\"/loggedin/\")}>Back to gallery list!</button>\r\n            <h2>Please enter information for your new gallery.</h2>\r\n            <form className={ styles.floating }>\r\n                <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                <label> Authorized Users (separate by commas): </label>\r\n                <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                <button type=\"button\" name=\"save\" onClick={saveGallery}>Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './newphotopage.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst NewPhotoPage = props => {\r\n    const { isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { togallery }  = props;\r\n    const [ photo, setPhoto ] = useState({});\r\n    \r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            setPhoto( {gallery_id: togallery} );\r\n        }\r\n        console.log(\"Ran use effect\");\r\n    },[isLoading]);\r\n\r\n    const savePhoto = () => {\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/add/\" + togallery, photo)\r\n        .then(res => {\r\n                console.log(res);\r\n                Navigate(\"/photos/\" + res.photo[res.photo.length - 1]._id);\r\n            })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    \r\n    return(\r\n        <div className={styles.container}>\r\n            <img src={photo.path} alt=\"User submitted with comments\" />\r\n            <button onClick={savePhoto}>Save</button>\r\n            <form className={ styles.floating}>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto( {...photo, path: e.target.value} ) } />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPhotoPage;","import React, { useState, useEffect } from 'react';\r\n//import LogOutButton from './logout';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\n\r\nconst Galleries = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [galleries, setGalleries] = useState([]);\r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            \r\n        }\r\n    },[isLoading]);\r\n\r\n    const runRetrieve = () => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/123\")\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            You ARE currently logged in!\r\n            <h2>{user.name} - {user.user_id}</h2>\\\r\n            <p>{user.email}</p>\r\n            {//<LogOutButton />\r\n            }\r\n            <button onClick={runRetrieve}>Run retrieve again!</button>\r\n            <button name=\"addnewgallery\" onClick={() => Navigate(\"/gallery/new\")}>Add new gallery!</button>\r\n            { galleries && galleries.map((gallery) => {\r\n                return (\r\n                    <div onClick={() => Navigate(\"/gallery/\" + gallery._id)}>\r\n                        <h2>{gallery.gallery_name}</h2>\r\n                        <p>Photo Count: {gallery.photo.length}</p>\r\n                    </div> )\r\n            })}\r\n        </div>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Galleries;","import React, { useState, useEffect } from 'react';\r\n//import Axios from 'axios';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst Gallery = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id }  = props;\r\n    const [ gallery, setGallery ] = useState({});\r\n    const photoslist = gallery.photo ?? [];\r\n    const [editMode, setEditMode ] = useState(false);\r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/gallery/\" + id)\r\n            .then(res => setGallery(res[0]))\r\n            .catch(err => console.log(err));   \r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: gallery.owner_id\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/update/\" + id, gallery_update)\r\n            .catch(err => console.log(err));\r\n        setEditMode(false);\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <div>\r\n                <h1>Welcome {user.name}</h1>\r\n                <button onClick={()=> Navigate(\"/loggedin/\")}>Back to gallery list!</button>\r\n                <h2>{gallery.gallery_name}</h2>\r\n                <p>Authorized Users: {gallery.authorized_user_ids}</p>\r\n                <button className={ editMode ? styles.invisible : styles.visible } type=\"button\" name=\"editformgo\" onClick={() => setEditMode(true)}>Edit</button>\r\n                \r\n                <form className={ editMode ? styles.floating : styles.invisible }>\r\n                    <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                    <label> Authorized Users (separate by commas): </label>\r\n                    <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                    <button className={ editMode ? styles.visible : styles.invisible } type=\"button\" name=\"save\" onClick={saveGallery}>Edit</button>\r\n                    <button type=\"button\" name=\"editformcancel\" onClick={() => setEditMode(false)}>Cancel</button>\r\n                </form>\r\n                <button onClick={()=> Navigate(\"/photos/new/\" + gallery._id)}>Add new photo.</button>\r\n            \r\n            </div>\r\n            <div className={styles.topalign}>\r\n                { photoslist && photoslist.map((photo) => {\r\n                    return(\r\n                        <Photo photo={photo} />\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React from 'react';\r\n\r\nconst Target = props => {\r\n    const { xloc, yloc, diam, active, hidden = false, onClick, text=\"\" } = props;\r\n    let showdiam = Math.max(diam, 10);\r\n    if(typeof(showdiam)!== \"number\") { showdiam = 10};\r\n\r\n    let onClickPassed;\r\n    onClick ? onClickPassed = onClick : onClickPassed = () => {};\r\n\r\n    return (\r\n        <div style={{\r\n            display: hidden ? \"none\" : \"block\",\r\n            position: \"absolute\",\r\n            border: active ? \"3px solid red\" : \"3px dashed white\",\r\n            top: yloc - (showdiam / 2) + \"px\",\r\n            left: xloc - (showdiam / 2) + \"px\",\r\n            borderRadius: showdiam + \"px\",\r\n            width: showdiam - 3 + \"px\",\r\n            height: showdiam - 3 + \"px\",\r\n            padding: diam / 8 + \"px\",\r\n            margin: \"0px\",\r\n            color: \"white\",\r\n        }} onClick={onClickPassed} onMouseDown={(e) => e.stopPropagation()}>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Target;","import React, { useState } from 'react';\r\nimport styles from './addcomment.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from '../views/auth0secureapi';\r\nimport Target from './target';\r\n\r\nconst AddComment = props => {\r\n    const { photo, setPhoto, commentloc, setCommentLoc, setActiveComment } = props;\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const [ textvalue, setTextValue ] = useState(\"Enter text here . . . \")\r\n    const { xloc, yloc, xpct, ypct, diam, diampct } = commentloc ?? {};\r\n\r\n    const saveComment = (comment) => {\r\n        let temp_photo;\r\n        if(photo.comments) {\r\n        temp_photo = {...photo, \r\n            comments: [\r\n                ...photo.comments, \r\n                {\r\n                    user_id: user.sub,\r\n                    user_name: user.name,\r\n                    x: xpct,\r\n                    y: ypct,\r\n                    diam: diampct,\r\n                    comment: textvalue\r\n                }\r\n            ] };\r\n        } else {\r\n            temp_photo = {...photo, \r\n                comments: [\r\n                    {\r\n                        user_id: user.sub,\r\n                        user_name: user.name,\r\n                        x: xpct,\r\n                        y: ypct,\r\n                        diam: diampct,\r\n                        comment: textvalue\r\n                    }\r\n                ] };\r\n        }\r\n        setPhoto(temp_photo);\r\n        console.log(\"Saving photo\", temp_photo, \"To path: \", photo._id);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + photo._id, temp_photo)\r\n            .then(res => setPhoto(res.photo[0]))\r\n            .catch(err => console.log(err));\r\n        setCommentLoc(null);\r\n        setTextValue(\"Enter text here . . . \");\r\n        setActiveComment(null);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Target xloc={xloc} yloc={yloc} diam={diam} active={true} hidden={commentloc===null}/>\r\n            <div className={commentloc ?  styles.addcomment : styles.hidden } \r\n                style={commentloc ? \r\n                    { \r\n                        position: \"absolute\",\r\n                        top: yloc + diam / 2 + 10,\r\n                        left: Math.max(xloc - 300,0)\r\n                    } : \r\n                    null }\r\n                >\r\n                \r\n                <form name=\"AddComment\">\r\n                    <textarea rows=\"4\" cols=\"75\" name=\"comment\" value={textvalue} onChange={(e)=>setTextValue(e.target.value)}></textarea>\r\n                    <button type=\"button\" onClick={saveComment}>Submit</button>\r\n                    <button type=\"button\" onClick={() => { setTextValue(\"Enter text here . . . \"); setCommentLoc(null);;}}>Cancel</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddComment;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './photopage.module.css';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport AddComment from '../Components/addcomment';\r\nimport Target from \"../Components/target\";\r\n\r\n\r\nconst PhotoPage = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id }  = props;\r\n    const [ value, setValue ] = useState()\r\n    const [ photo, setPhoto ] = useState({});\r\n    const [ editMode, setEditMode ] = useState(false);\r\n    const [ commentloc, setCommentLoc ] = useState(null);\r\n    const [ activecomment, setActiveComment ] = useState(null);\r\n    const [diam, setDiam ] = useState(10);\r\n    const [selection, setSelection ] = useState({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n    \r\n    const image = useRef(null);\r\n    const imgcontainer = useRef(null);\r\n    const Navigate = useNavigate();\r\n    \r\n    let imagebox;\r\n\r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/\" + id)\r\n            .then(res => {\r\n                setPhoto({...res.photo[0], gallery_name: res.gallery_name, gallery_id: res._id});\r\n                for(const rating of res.photo[0].ratings) {\r\n                    console.log(\"looking at\", rating.user_id);\r\n                    if(rating.user_id === user.sub) {\r\n                        setValue(rating.rating);\r\n                        break;\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n        console.log(\"Ran use effect\");\r\n    },[isLoading]);\r\n\r\n    const clickEdit = () => {\r\n        if(editMode) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, photo)\r\n                .then(res => alert(\"Changes saved!\"))\r\n                .catch(err => console.log(err));\r\n        }\r\n        setEditMode(!editMode);\r\n    }\r\n\r\n    const mouseUp = (event) => {\r\n        if(!selection.hidden) {\r\n            imagebox = (image.current.getBoundingClientRect());\r\n            let xpct = Math.round((selection.xloc - imagebox.left + window.pageXOffset) / imagebox.width * 100);\r\n            let ypct = Math.round((selection.yloc - imagebox.top + window.pageYOffset) / imagebox.height * 100);\r\n            let diampct = diam / imagebox.width * 100;\r\n            setCommentLoc( {\r\n                ...selection,\r\n                xpct: xpct,\r\n                ypct: ypct,\r\n                diam: diampct\r\n            })\r\n            setActiveComment(null);\r\n            setSelection({ xloc: 0, yloc: 0, diam: 10, hidden: true});\r\n        }\r\n    }\r\n\r\n    const mouseMove = (event) => {\r\n        if(!selection.hidden) { \r\n            event.preventDefault();\r\n            const selectiondiam = Math.max(10, 2* Math.sqrt((event.clientX + window.pageXOffset - selection.xloc)**2 + (event.clientY + window.pageYOffset - selection.yloc)**2));\r\n            setDiam(selectiondiam);\r\n        }\r\n    }\r\n\r\n    const mouseDown = (event) => {\r\n        const new_selection = {\r\n            xloc: event.clientX + window.pageXOffset,\r\n            yloc: event.clientY + window.pageYOffset,\r\n            diam: diam,\r\n            hidden: false\r\n        };\r\n        setSelection(new_selection);\r\n        setDiam(10);\r\n        setActiveComment(null);\r\n    }\r\n\r\n    const setMyRating = (newrating) => {\r\n        console.log(photo);\r\n        let found = false;\r\n        let temp_photo = { ...photo,\r\n            ratings: photo.ratings.map(rating => {\r\n                if(rating.user_id === user.sub) {\r\n                    found = true;\r\n                    return { \r\n                        ...rating,\r\n                        rating: newrating\r\n                    }\r\n                } else {\r\n                    return rating;\r\n                }\r\n            } )\r\n            } \r\n        if(!found) {\r\n            temp_photo = { ...temp_photo,\r\n                ratings: [ ...temp_photo.ratings, {\r\n                    rating: newrating,\r\n                    user_id: user.sub\r\n                } ] \r\n            }\r\n        }\r\n        setPhoto(temp_photo);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, temp_photo)\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div ref={imgcontainer} id=\"img_container\" name=\"imagecontainer\" onMouseDown={mouseDown} onMouseUp={mouseUp} onMouseMove={mouseMove}>\r\n                <Target key=\"selector\" xloc={selection.xloc} yloc={selection.yloc} diam={diam} active={true} hidden={selection.hidden}/>\r\n                <img onLoad={() => setActiveComment(27)} src={photo.path} ref={image}  alt=\"User submitted with comments\"/>\r\n                { photo.comments && photo.comments.map((comment) => {\r\n                    imagebox = (image.current.getBoundingClientRect());\r\n                    const xloc = (comment.x / 100 * imagebox.width) + imagebox.left + window.pageXOffset;\r\n                    const yloc = (comment.y / 100 * imagebox.height) + imagebox.top + window.pageYOffset;\r\n                    const showdiam = (comment.diam / 100 * imagebox.width);\r\n                    const onClick = () => {\r\n                        setActiveComment(comment._id)\r\n                    }\r\n                    return (\r\n                        <>\r\n                            <Target key={comment._id} onClick={(event) => {\r\n                                event.stopPropagation();\r\n                                onClick();\r\n                                }} xloc={xloc} yloc={yloc} diam={showdiam} active={(activecomment === comment._id)} hidden={false}/>\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n            {//NEED TO RE-WRITE \r\n            }\r\n            <div className=\"star\">\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                    <Rating\r\n                        name=\"simple-controlled\"\r\n                        value={value}\r\n                        onChange={(event, newValue) => {\r\n                            setValue(newValue);\r\n                            setMyRating(newValue);\r\n                        }}\r\n                    />\r\n                </Box>\r\n            </div>\r\n            {//END RE-WRITE \r\n            }\r\n            <button onClick={clickEdit}>{editMode ? \"Save\" : \"Edit\"}</button>\r\n            <form className={!editMode ? \" \" + styles.invisible : styles.floating }>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto( {...photo, path: e.target.value} ) } />\r\n            </form>\r\n            <AddComment comment={activecomment} setActiveComment={setActiveComment} commentloc={commentloc} setCommentLoc={setCommentLoc} photo={photo} setPhoto={setPhoto} id={id} />\r\n            <h5>Ratings</h5>\r\n            { photo.ratings && photo.ratings.map((rating) => {\r\n                return (\r\n                    <p>{rating.user_id} - {rating.rating}</p>\r\n                )\r\n            })}\r\n            <h5>Comments</h5>\r\n            { photo.comments && photo.comments.map((comment) => {\r\n                return (\r\n                    <>\r\n                        <p>{`${comment.user_id} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                    </>\r\n                )\r\n            })}\r\n            <button onClick={() => Navigate(\"/gallery/\" + photo.gallery_id)}>Go back to gallery!</button>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default PhotoPage;\r\n\r\n/*\r\n\r\n\r\n\r\n\r\n<h5>{photo.path} - {photo._id}</h5>\r\n                        <p>Photo Count: {gallery.photo.length}</p>\r\n                        {photo.ratings && photo.ratings.map((rating) => {\r\n                            return (<p>{rating.user_id} - {rating.rating}</p>);\r\n                        })}\r\n                        */","import React from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Login from './views/login';\r\nimport { Router } from \"@reach/router\";\r\nimport NewGallery from \"./views/newgallery\";\r\nimport NewPhotoPage from \"./views/newphotopage\";\r\nimport Galleries from './views/galleries';\r\nimport Gallery from \"./views/gallery\";\r\nimport PhotoPage from \"./views/photopage\";\r\n\r\nconst AuthRoutes = props => {\r\n    const { isAuthenticated, isLoading } = useAuth0();\r\n    \r\n    if(isLoading) {\r\n        return (\r\n            <div>Loading . . . </div>\r\n        )\r\n    }\r\n\r\n    if(!isAuthenticated) {\r\n        return(\r\n            <div>\r\n                <h1>Not Logged In</h1>\r\n                <p>You must be logged in to perform this action.</p>\r\n                <Login />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Router>\r\n                <Galleries path=\"/loggedin\"/>\r\n                <NewGallery path=\"/gallery/new\" />\r\n                <Gallery path=\"/gallery/:id\" />\r\n                <NewPhotoPage path=\"/photos/new/:togallery\" />\r\n                <PhotoPage path=\"/photos/:id\" />\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AuthRoutes;\r\n\r\n/*\r\n<BasicPhotoPage path=\"/photos/new/:togallery\" isnew={true} />\r\n                <BasicPhotoPage path=\"/photos/:id\" isnew={false} />\r\n                <BasicGallery path=\"/gallery/new\" isnew={true} />\r\n                <BasicGallery path=\"/gallery/:id\"  isnew={false} />\r\n                */","import {  navigate } from '@reach/router'\r\nimport Card from 'react-bootstrap/Card'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CardDeck from 'react-bootstrap/CardDeck'\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\n\r\nconst FetchGalleries = async () => {\r\n    try {\r\n        const response = await fetch(\"http://localhost:8000/api/photos/owner/123\")\r\n        //console.log(response.json())\r\n        return response.json();\r\n            //setGalleries(res.json()))\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nconst GalleriesNoLogin = (props) => {\r\n    const [ galleries, setGalleries ] = useState([]);\r\n    const user = { name: \"No login\"}\r\n    //const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        FetchGalleries()\r\n            .then(res => setGalleries(res));\r\n    });\r\n\r\n    return (\r\n        <div className=\"Main\" style={{ width: \"auto\" }}>\r\n            <h1 className=\"UserName\">{user.name}</h1>\r\n            <Button onClick={navigate.bind(this, '/gallery/new')}>Add gallery!</Button>\r\n            <CardDeck>\r\n                {galleries && galleries.map(gallery => (\r\n                    <Card key={gallery._id}>\r\n                        <Card.Img variant=\"top\" src={gallery.photo[0] && gallery.photo[0].path} />\r\n                        <Card.Title>{gallery.gallery_name}</Card.Title>\r\n                        <Card.Body>\r\n                            <Card.Title>{gallery.title}</Card.Title>\r\n                            <p>Photos: {gallery.photo.length}</p>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button onClick={navigate.bind(this, '/gallery/' + gallery._id)}>View Gallery</Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                ))}\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesNoLogin;","import './App.css';\r\nimport {Router} from '@reach/router'\r\nimport Login from './views/login'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AuthRoutes from './authroutes';\r\nimport GalleriesNoLogin from \"./views/galleries_nologin\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Login path=\"/\"/>\r\n        <GalleriesNoLogin path=\"/nologin/\"/>\r\n        <AuthRoutes path=\"/*\" />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Auth0Provider \r\n        domain=\"dev-08umzn2o.us.auth0.com\" \r\n        clientId=\"76OKk6yoIt4f4W4ChvVmYytfgRcZqI1I\"\r\n        redirectUri={ \"http://localhost:3000/loggedin/\"}\r\n        audience=\"https://localhost:8000/api/\"\r\n        scope=\"read:any\">\r\n        <App />\r\n      </Auth0Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gallery_container__1zL05\",\"invisible\":\"gallery_invisible__2g5X5\",\"visible\":\"gallery_visible__gRXYO\",\"floating\":\"gallery_floating__1MyD8\",\"topalign\":\"gallery_topalign__2_RN5\"};"],"sourceRoot":""}