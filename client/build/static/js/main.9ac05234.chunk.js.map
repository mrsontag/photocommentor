{"version":3,"sources":["views/gallery.module.css","views/photopage.module.css","views/newphotopage.module.css","views/galleries.module.css","Components/addcomment.module.css","views/gallerytile.module.css","views/photo.module.css","views/madeby.module.css","views/login.js","views/auth0secureapi.js","views/photo.js","views/newgallery.js","views/newphotopage.js","views/galleries.js","views/gallery.js","Components/target.js","Components/addcomment.js","views/photopage.js","views/navbar.js","views/gallerytile.js","views/home.js","authroutes.js","views/home_anon.js","views/madeby.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Login","loginWithRedirect","useAuth0","Navigate","useNavigate","href","Button","style","margin","variant","color","type","onClick","auth0SecureAPI","getAccessTokenSilently","endpoint","body","a","accessToken","payload","method","headers","Authorization","JSON","stringify","fetch","response","json","console","log","message","Photo","props","photo","path","_id","ratings","comments","anon","avgrating","length","reduce","total","current","rating","className","styles","small","src","alt","Gallery","user","isLoading","useState","gallery","setGallery","useEffect","gallery_name","authorized_user_ids","container","floating","name","value","onChange","e","target","toString","split","gallery_update","owner_id","sub","then","res","catch","err","NewPhotoPage","togallery","setPhoto","gallery_id","Galleries","isAuthenticated","galleries","setGalleries","setNavPath","temp_galleries","link","map","index","thumbnail","id","photoslist","editMode","setEditMode","display","visible","invisible","Checkbox","checked","show_anonymous","preventDefault","topalign","Target","onClickPassed","xloc","yloc","diam","active","hidden","text","showdiam","Math","max","position","border","top","left","borderRadius","width","height","padding","onMouseDown","stopPropagation","AddComment","commentloc","setCommentLoc","setActiveComment","textvalue","setTextValue","xpct","ypct","diampct","addcomment","rows","cols","comment","temp_photo","user_id","user_name","x","y","PhotoPage","imagebox","setValue","activecomment","setDiam","selection","setSelection","image","useRef","imgcontainer","ref","onMouseUp","event","getBoundingClientRect","round","onMouseMove","selectiondiam","sqrt","clientX","clientY","onLoad","new_selection","Box","component","mb","borderColor","Rating","newValue","newrating","found","setMyRating","find","regular","UserBar","picture","navpath","logout","textAlign","fontSize","fontWeight","step","maxWidth","maxHeight","returnTo","GalleryTile","Home","newlogin","user_update","email","auth0_id","marginRight","filter","AuthRoutes","HomeAnon","MadeBy","madeby","window","open","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","audience","scope","document","getElementById"],"mappings":"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","file":"static/js/main.9ac05234.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gallery_container__1zL05\",\"invisible\":\"gallery_invisible__2g5X5\",\"visible\":\"gallery_visible__gRXYO\",\"floating\":\"gallery_floating__1MyD8\",\"topalign\":\"gallery_topalign__2_RN5\",\"halfsize\":\"gallery_halfsize__2MG5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"photopage_container__GUJqG\",\"invisible\":\"photopage_invisible__3k6NC\",\"floating\":\"photopage_floating__3-nOm\",\"active\":\"photopage_active__3lihy\",\"regular\":\"photopage_regular__2qyBY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"newphotopage_container__3u8Ys\",\"invisible\":\"newphotopage_invisible__V0F9x\",\"floating\":\"newphotopage_floating__HliyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"invisible\":\"galleries_invisible__6bZJt\",\"visible\":\"galleries_visible__2LFml\",\"gallery\":\"galleries_gallery__3WSy6\",\"thumbnail\":\"galleries_thumbnail__wmdhg\",\"topalign\":\"galleries_topalign__NkLNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"addcomment_hidden__1gKDJ\",\"addcomment\":\"addcomment_addcomment__DweRn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"invisible\":\"gallerytile_invisible__1enRw\",\"visible\":\"gallerytile_visible__ZDlQt\",\"gallery\":\"gallerytile_gallery__1B3B6\",\"thumbnail\":\"gallerytile_thumbnail__5zVpu\",\"topalign\":\"gallerytile_topalign__ZTrHz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"small\":\"photo_small__2tgGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"madeby\":\"madeby_madeby__2CIn4\"};","import React from \"react\";\r\nimport { useNavigate } from \"@reach/router\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst Login = () => {\r\n    const { loginWithRedirect } = useAuth0();\r\n    const Navigate = useNavigate();\r\n    \r\n    return (\r\n        <div>\r\n            <h1 >Welcome to Photo Comments</h1>\r\n            <p>If this is your first visit, please feel free to browse anonymously - some galleries have been set by their owners to allow anonymous comments.</p>\r\n            <p>Also, you can register easily using your email address or your Google account.  Your information is always secure, as user administration is handled by\r\n            the external service provider <a href=\"https://www.auth0.com\">Auth0</a>.</p>\r\n            <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" type='button' onClick={() => loginWithRedirect()}>Login or Register</Button>\r\n            <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" type='button' onClick={() => Navigate(\"/anon/\")}>View as Anonymous User</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","const auth0SecureAPI = async (getAccessTokenSilently, endpoint, body) => {\r\n    let payload;\r\n    try {\r\n        const accessToken = await getAccessTokenSilently({});\r\n        let response;\r\n        if(body) {\r\n            payload = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(body)\r\n            };\r\n        } else {\r\n            payload = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            };\r\n        }\r\n        response = await fetch(\"http://localhost:8002/api/\" + endpoint, payload);\r\n        return response.json();\r\n    } catch (e) {\r\n        console.log(e.message);\r\n    }\r\n}\r\n\r\nexport default auth0SecureAPI;","import { useNavigate } from '@reach/router';\r\nimport React from 'react';\r\nimport styles from './photo.module.css';\r\n\r\n\r\n\r\nconst Photo = props => {\r\n    const { path, _id, ratings, comments } = props.photo;\r\n    const { anon } = props;\r\n    const Navigate = useNavigate();\r\n    \r\n    const avgrating = ratings.length ? ratings.reduce((total, current) => total + current.rating, 0) / (ratings.length) : 0;\r\n\r\n    return (\r\n        <div className={styles.small} onClick={() => Navigate(`/photos${ anon ? \"_anon\" : \"\"}/` + _id)}>\r\n            <img src={path} alt=\"Comment-tagged\"/>\r\n            <h5>{ratings.length ? `${ratings.length} Rating(s), average ${avgrating}` : \"No ratings\"}</h5>\r\n            <h5>{comments.length ? comments.length + \" Comments\" : \"No comments\"}</h5>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst Gallery = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [ gallery, setGallery ] = useState({});\r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            setGallery({gallery_name:\"New gallery . . . \", authorized_user_ids: \"List authorized users . . . \"});\r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: user.sub\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/new\", gallery_update)\r\n        .then(res => {\r\n            Navigate(\"/gallery/\" + res._id);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <button onClick={()=> Navigate(\"/loggedin/\")}>Back to gallery list!</button>\r\n            <h2>Please enter information for your new gallery.</h2>\r\n            <form className={ styles.floating }>\r\n                <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                <label> Authorized Users (separate by commas): </label>\r\n                <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                <button type=\"button\" name=\"save\" onClick={saveGallery}>Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './newphotopage.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst NewPhotoPage = props => {\r\n    const { isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { togallery }  = props;\r\n    const [ photo, setPhoto ] = useState({});\r\n    \r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        setPhoto( {gallery_id: togallery} );\r\n        console.log(\"Ran use effect\");\r\n    },[isLoading]);\r\n\r\n    const savePhoto = () => {\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/add/\" + togallery, photo)\r\n        .then(res => {\r\n                console.log(res);\r\n                Navigate(\"/photos/\" + res.photo[res.photo.length - 1]._id);\r\n            })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    \r\n    return(\r\n        <div className={styles.container}>\r\n            <img src={photo.path} alt=\"User submitted with comments\" />\r\n            <button onClick={savePhoto}>Save</button>\r\n            <form className={ styles.floating}>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto( {...photo, path: e.target.value} ) } />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPhotoPage;","import React, { useState, useEffect } from 'react';\r\n//import LogOutButton from './logout';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport styles from \"./galleries.module.css\";\r\n\r\nconst Galleries = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [galleries, setGalleries] = useState([]);\r\n    const Navigate = useNavigate();\r\n    const { setNavPath } = props;\r\n\r\n    \r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            setNavPath( [\r\n                { name:user.name + \" Galleries\",\r\n                    link: \"/loggedin/\"\r\n                }\r\n            ])\r\n            console.log(\"User\", user);\r\n        }\r\n    },[isLoading]);\r\n\r\n    const runRetrieve = () => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div>\r\n                <button onClick={runRetrieve}>Run retrieve again!</button>\r\n                <button name=\"addnewgallery\" onClick={() => Navigate(\"/gallery/new\")}>Add new gallery!</button>\r\n            </div>\r\n            { galleries && galleries.map((gallery) => {\r\n                return (\r\n                    <div className={styles.gallery} onClick={() => Navigate(\"/gallery/\" + gallery._id)}>\r\n                        <h2>{gallery.gallery_name}</h2>\r\n                        <p>Photo Count: {gallery.photo.length}</p>\r\n                        { gallery.photo.length && gallery.photo.map((photo, index) => {\r\n                            if(index>4) { return };\r\n                            return (\r\n                                <img className={styles.thumbnail} alt=\"User submitted\" src={photo.path} />\r\n                            )\r\n                            })\r\n                        }\r\n                    </div> )\r\n            })}\r\n        </div>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Galleries;","import React, { useState, useEffect } from 'react';\r\n//import Axios from 'axios';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\nimport Button from '@material-ui/core/Button';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst Gallery = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id, anon }  = props;\r\n    const [ gallery, setGallery ] = useState({});\r\n    const photoslist = gallery.photo ?? [];\r\n    const [editMode, setEditMode ] = useState(false);\r\n    const Navigate = useNavigate();\r\n    const { setNavPath } = props;\r\n\r\n    useEffect(() => {\r\n        if(!anon ) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/gallery/\" + id)\r\n            .then(res => {\r\n                setGallery(res[0]);\r\n                setNavPath( [ \r\n                    { name: \"Home\", link: \"/home/\" + user.sub },\r\n                    { name: res[0].gallery_name, link: \"/gallery/\" + id }\r\n                ])\r\n            })\r\n            .catch(err => console.log(err));               \r\n        } else {\r\n            fetch(\"http://localhost:8002/api/photos/gallery_anon/\" + id)\r\n            .then(response =>  response.json())\r\n            .then(res =>  {\r\n                setGallery(res[0]);\r\n                setNavPath( [ \r\n                    { name: \"Home\", link: \"/anon/\" },\r\n                    { name: res[0].gallery_name, link: \"/gallery_anon/\" + id }\r\n                ])\r\n                } )\r\n            .catch(err => console.log(err));\r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: gallery.owner_id,\r\n            show_anonymous: gallery.show_anonymous\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/update/\" + id, gallery_update)\r\n            .catch(err => console.log(err));\r\n        setEditMode(false);\r\n    }\r\n    \r\n    const clickedEdit = () => {\r\n        if(gallery.owner_id === user.sub) {\r\n            setEditMode(true);\r\n        }\r\n    }\r\n    //add control to say \"all users\" vs \"specific users\"\r\n    //add control to add photos\r\n    return (\r\n        <div className={styles.container}>\r\n            <h2>{gallery.gallery_name}</h2>\r\n            <Button variant=\"contained\" color=\"primary\" name=\"editformgo\" style={ ((user ? user.sub : null) === gallery.owner_id && !editMode) ? { } : { display: \"none\" } } onClick={clickedEdit}>Edit Gallery</Button>\r\n            <Button variant=\"contained\" color=\"primary\" name=\"backhome\" style={ anon ? { } : { display: \"none\" } } onClick={() => Navigate(`/anon/`)}>Go back to the gallery list!</Button>\r\n            <div className={ editMode ? styles.visible : styles.invisible }>\r\n                <form className={ styles.floating }>\r\n                    <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                    <Checkbox checked={ gallery.show_anonymous ?? false } name=\"show_anonymous\" onChange={(e) => { console.log(e.target.checked); setGallery({...gallery, show_anonymous: e.target.checked})}}/>\r\n                    <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" className={ editMode ? styles.visible : styles.invisible } type=\"button\" name=\"save\" onClick={saveGallery}>Save</Button>\r\n                    <div>\r\n                        <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" onClick={(e)=> {e.preventDefault(); Navigate(\"/photos/new/\" + gallery._id)}}>Add new photo.</Button>\r\n                        <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" name=\"editformcancel\" onClick={() => setEditMode(false)}>Cancel</Button>\r\n                    </div>\r\n                </form>\r\n                \r\n            </div>\r\n            <div className={styles.topalign}>\r\n                { photoslist && photoslist.map((photo) => {\r\n                    return(\r\n                        <Photo key={photo._id} photo={photo} anon={anon} />\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React from 'react';\r\n\r\nconst Target = props => {\r\n    const { xloc, yloc, diam, active, hidden = false, onClick, text=\"\" } = props;\r\n    let showdiam = Math.max(diam, 10);\r\n    if(typeof(showdiam)!== \"number\") { showdiam = 10};\r\n    \r\n    let onClickPassed;\r\n    onClick ? onClickPassed = onClick : onClickPassed = () => {};\r\n\r\n    return (\r\n        <div style={{\r\n            display: hidden ? \"none\" : \"block\",\r\n            position: \"absolute\",\r\n            border: active ? \"3px solid red\" : \"3px dashed white\",\r\n            top: yloc - (showdiam / 2) + \"px\",\r\n            left: xloc - (showdiam / 2) + \"px\",\r\n            borderRadius: showdiam + \"px\",\r\n            width: showdiam - 3 + \"px\",\r\n            height: showdiam - 3 + \"px\",\r\n            padding: diam / 8 + \"px\",\r\n            margin: \"0px\",\r\n            color: \"white\",\r\n        }} onClick={onClickPassed} onMouseDown={(e) => e.stopPropagation()}>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Target;","import React, { useState } from 'react';\r\nimport styles from './addcomment.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from '../views/auth0secureapi';\r\nimport Target from './target';\r\n\r\nconst AddComment = props => {\r\n    const { photo, setPhoto, commentloc, setCommentLoc, setActiveComment } = props;\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const [ textvalue, setTextValue ] = useState(\"Enter text here . . . \")\r\n    const { xloc, yloc, xpct, ypct, diam, diampct } = commentloc ?? {};\r\n\r\n    const saveComment = (comment) => {\r\n        let temp_photo;\r\n        if(photo.comments) {\r\n        temp_photo = {...photo, \r\n            comments: [\r\n                ...photo.comments, \r\n                {\r\n                    user_id: user.sub,\r\n                    user_name: user.name,\r\n                    x: xpct,\r\n                    y: ypct,\r\n                    diam: diampct,\r\n                    comment: textvalue\r\n                }\r\n            ] };\r\n        } else {\r\n            temp_photo = {...photo, \r\n                comments: [\r\n                    {\r\n                        user_id: user.sub,\r\n                        user_name: user.name,\r\n                        x: xpct,\r\n                        y: ypct,\r\n                        diam: diampct,\r\n                        comment: textvalue\r\n                    }\r\n                ] };\r\n        }\r\n        setPhoto(temp_photo);\r\n        console.log(\"Saving photo\", temp_photo, \"To path: \", photo._id);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + photo._id, temp_photo)\r\n            .then(res => setPhoto(res.photo[0]))\r\n            .catch(err => console.log(err));\r\n        setCommentLoc(null);\r\n        setTextValue(\"Enter text here . . . \");\r\n        setActiveComment(null);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Target xloc={xloc} yloc={yloc} diam={diam} active={true} hidden={commentloc===null}/>\r\n            <div className={commentloc ?  styles.addcomment : styles.hidden } \r\n                style={commentloc ? \r\n                    { \r\n                        position: \"absolute\",\r\n                        top: yloc + diam / 2 + 10,\r\n                        left: Math.max(xloc - 300,0)\r\n                    } : \r\n                    null }\r\n                >\r\n                \r\n                <form name=\"AddComment\">\r\n                    <textarea rows=\"4\" cols=\"75\" name=\"comment\" value={textvalue} onChange={(e)=>setTextValue(e.target.value)}></textarea>\r\n                    <button type=\"button\" onClick={saveComment}>Submit</button>\r\n                    <button type=\"button\" onClick={() => { setTextValue(\"Enter text here . . . \"); setCommentLoc(null);;}}>Cancel</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddComment;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './photopage.module.css';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport AddComment from '../Components/addcomment';\r\nimport Target from \"../Components/target\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst PhotoPage = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id, anon } = props;\r\n    const [value, setValue] = useState(0)\r\n    const [photo, setPhoto] = useState({});\r\n    const [gallery, setGallery] = useState({});\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [commentloc, setCommentLoc] = useState(null);\r\n    const [activecomment, setActiveComment] = useState(null);\r\n    const [diam, setDiam] = useState(10);\r\n    const [selection, setSelection] = useState({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n\r\n    const image = useRef(null);\r\n    const imgcontainer = useRef(null);\r\n    const Navigate = useNavigate();\r\n    \r\n    let imagebox;\r\n\r\n    useEffect(() => {\r\n        if (!anon) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/\" + id)\r\n                .then(res => {\r\n                    setPhoto({ ...res.photo[0], gallery_name: res.gallery_name, gallery_id: res._id });\r\n                    setGallery( {gallery_name: res.gallery_name, gallery_id: res._id, owner_id: res.owner_id})\r\n                    for (const rating of res.photo[0].ratings) {\r\n                        console.log(\"looking at\", rating.user_id);\r\n                        if (rating.user_id === user.sub) {\r\n                            setValue(rating.rating);\r\n                            break;\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n                \r\n        } else {\r\n            fetch(\"http://localhost:8002/api/photos_anon/\" + id)\r\n            .then(response =>  response.json())\r\n            .then(res =>  {\r\n                setPhoto({ ...res.photo[0], gallery_name: res.gallery_name, gallery_id: res._id });\r\n                setGallery( {gallery_name: res.gallery_name, gallery_id: res._id, owner_id: res.owner_id})\r\n                } )\r\n            .catch(err => console.log(err));\r\n        }\r\n        console.log(\"Ran use effect\");\r\n    }, [isLoading]);\r\n\r\n    const clickEdit = () => {\r\n        if (editMode) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, photo)\r\n                .then(res => {\r\n                    //let whichphoto = res.photo.find((photo) => photo._id = id);\r\n                    //console.log(\"Photos:\", res, \"Which photo: \", whichphoto);\r\n                    setPhoto(res.photo.find((photo) => photo._id === id));\r\n                    setGallery({gallery_name: res.gallery_name, gallery_id: res._id, owner_id: res.owner_id})\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n        setEditMode(!editMode);\r\n    }\r\n\r\n    const mouseUp = (event) => {\r\n        if (!selection.hidden) {\r\n            imagebox = (image.current.getBoundingClientRect());\r\n            let xpct = Math.round(selection.xloc / imagebox.width * 100);\r\n            let ypct = Math.round(selection.yloc / imagebox.height * 100);\r\n            let diampct = diam / imagebox.width * 100;\r\n            console.log(\"Imagebox: \", imagebox, \"Cursor\", selection, \"Pct\", xpct, ypct, diampct)\r\n            \r\n            setCommentLoc({\r\n                ...selection,\r\n                xpct: xpct,\r\n                ypct: ypct,\r\n                diam: diam,\r\n                diampct: diampct\r\n            })\r\n            setActiveComment(null);\r\n            setSelection({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n        }\r\n    }\r\n\r\n    const mouseMove = (event) => {\r\n        imagebox = (image.current.getBoundingClientRect());\r\n        if (!selection.hidden) {\r\n            event.preventDefault();\r\n            const selectiondiam = Math.max(10, 2 * Math.sqrt(((event.clientX - imagebox.left) - selection.xloc) ** 2 + ((event.clientY - imagebox.top) - selection.yloc) ** 2));\r\n            setDiam(selectiondiam);\r\n        }\r\n    }\r\n\r\n    const mouseDown = (event) => {\r\n        imagebox = (image.current.getBoundingClientRect());\r\n        const new_selection = {\r\n            xloc: event.clientX - imagebox.left,\r\n            yloc: event.clientY - imagebox.top,\r\n            diam: diam,\r\n            hidden: false\r\n        };\r\n        setSelection(new_selection);\r\n        setDiam(10);\r\n        setActiveComment(null);\r\n    }\r\n\r\n    const setMyRating = (newrating) => {\r\n        let found = false;\r\n        let temp_photo\r\n        if (!photo.ratings || !photo.ratings.length) {\r\n            temp_photo = {\r\n                ...photo,\r\n                ratings: [{\r\n                    rating: newrating,\r\n                    user_id: user.sub,\r\n                    user_name: user.name\r\n                }]\r\n            }\r\n        } else {\r\n            temp_photo = {\r\n                ...photo,\r\n                ratings: photo.ratings.map(rating => {\r\n                    if (rating.user_id === user.sub) {\r\n                        found = true;\r\n                        return {\r\n                            ...rating,\r\n                            rating: newrating,\r\n                            user_name: user.name\r\n                        }\r\n                    } else {\r\n                        return rating;\r\n                    }\r\n                })\r\n            }\r\n            if (!found) {\r\n                temp_photo = {\r\n                    ...temp_photo,\r\n                    ratings: [...temp_photo.ratings, {\r\n                        rating: newrating,\r\n                        user_id: user.sub,\r\n                        user_name: user.name\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n        setPhoto(temp_photo);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, temp_photo)\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div ref={imgcontainer} id=\"img_container\" name=\"imagecontainer\" onMouseUp={mouseUp} onMouseMove={mouseMove}>\r\n                <Target key=\"selector\" xloc={selection.xloc} yloc={selection.yloc} diam={diam} active={true} hidden={selection.hidden} />\r\n                <img onLoad={() => setActiveComment(27)} src={photo.path} ref={image} onMouseDown={mouseDown} alt=\"User submitted with comments\" />\r\n                {photo.comments && photo.comments.map((comment, index) => {\r\n                    imagebox = (image.current.getBoundingClientRect());\r\n                    const xloc = (comment.x / 100 * imagebox.width);\r\n                    const yloc = (comment.y / 100 * imagebox.height);\r\n                    const showdiam = (comment.diam / 100 * imagebox.width);\r\n                    const clickTarget = () => {\r\n                        if (activecomment === comment._id) {\r\n                            setActiveComment(null)\r\n                        } else {\r\n                            setActiveComment(comment._id)\r\n                        }\r\n                    }\r\n                    return (\r\n                        <Target key={comment._id} onClick={(event) => {\r\n                            event.stopPropagation();\r\n                            clickTarget();\r\n                        }} xloc={xloc} yloc={yloc} diam={showdiam} active={(activecomment === comment._id)} hidden={false} text={index + 1} />\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className={ anon ?  \"hidden\" : \"star\" } >\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                    <Rating\r\n                        name=\"rating\"\r\n                        value={value}\r\n                        onChange={(event, newValue) => {\r\n                            setValue(newValue);\r\n                            setMyRating(newValue);\r\n                        }}\r\n                    />\r\n                </Box>\r\n            </div>\r\n            <Button style={ anon || gallery.owner_id !== user.sub ? {display: \"none\"} : {display: \"inline-block\"}} variant=\"contained\" color=\"primary\" onClick={clickEdit}>{editMode ? \"Save\" : \"Edit\"}</Button>\r\n            <form className={!editMode ? \" \" + styles.invisible : styles.floating}>\r\n                <input style={{width: \"95%\" }} type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto({ ...photo, path: e.target.value })} />\r\n                <Button variant=\"contained\" color=\"primary\" onClick={() => setEditMode(false)}>Cancel</Button>\r\n            </form>\r\n            <AddComment comment={activecomment} setActiveComment={setActiveComment} commentloc={commentloc} setCommentLoc={setCommentLoc} photo={photo} setPhoto={setPhoto} id={id} />\r\n            <h5>Ratings</h5>\r\n            { photo.ratings && photo.ratings.map((rating) => {\r\n                return (\r\n                    <p>{rating.user_name} - {rating.rating}</p>\r\n                )\r\n            })}\r\n            <h5>Comments</h5>\r\n            { photo.comments && photo.comments.map((comment, index) => {\r\n                const clickComment = () => {\r\n                    if (activecomment === comment._id) {\r\n                        setActiveComment(null)\r\n                    } else {\r\n                        setActiveComment(comment._id)\r\n                    }\r\n                }\r\n                return (\r\n                    <>\r\n                        <p onClick={clickComment} className={(activecomment === comment._id) ? styles.active : styles.regular}>{`${index + 1}: ${comment.user_name} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                    </>\r\n                )\r\n            })}\r\n            <Button variant=\"contained\" color=\"primary\" onClick={() => Navigate(`/gallery${anon ? \"_anon\" : \"\"}/` + gallery.gallery_id)}>Go back to gallery!</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PhotoPage;","import React from 'react';\r\nimport { useNavigate } from '@reach/router'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst UserBar = props => {\r\n    const {name, picture } = props.user;\r\n    const { navpath } = props;\r\n    const Navigate = useNavigate();\r\n    const { logout } = useAuth0();\r\n\r\n    const style = {\r\n        maxWidth: \"40px\", \r\n        maxHeight: \"40px\",\r\n        border: \"1px solid darkgrey\",\r\n        borderRadius: \"20px\"\r\n    }\r\n        \r\n\r\n    return (\r\n        <div>\r\n            <div style={{display: \"inline-block\", width: \"700px\",  textAlign: \"left\", fontSize: \"larger\", fontWeight: \"bold\"}}>\r\n                {navpath.length && navpath.map((step, index) => {\r\n                    return(\r\n                        <>\r\n                            <a href={step.link} onClick={(e) => { e.preventDefault(); Navigate(step.link)}}>{step.name}</a> \r\n                            { index < navpath.length - 1 ? <b>{` -> `}</b> : \"\"}\r\n                        </>\r\n                    )\r\n                }) }\r\n            </div>\r\n            <div style={{display: \"inline-block\", width: \"270px\", textAlign: \"right\"}}>\r\n                <h3>{name}</h3>\r\n                <img style={style} alt=\"User\" src={picture} />\r\n                <Button variant=\"contained\" color=\"primary\" onClick={() => logout({ returnTo: \"http://localhost:3000/\" })}>Logout</Button>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default UserBar;","\r\nimport React from 'react';\r\nimport styles from \"./gallerytile.module.css\";\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst GalleryTile = props => {\r\n    const Navigate = useNavigate();\r\n    const { gallery, anon } = props;\r\n    return (\r\n        <div key={gallery._id} className={styles.gallery} onClick={() => Navigate(`/gallery${ anon ? \"_anon\" : \"\" }/` + gallery._id)}>\r\n            <h2>{gallery.gallery_name}</h2>\r\n            <p>Photo Count: {gallery.photo.length}</p>\r\n            { gallery.photo.length && gallery.photo.map((photo, index) => {\r\n                //only show six small thumbnails\r\n                return index > 5 ? null : (\r\n                    <img key={photo._id} className={styles.thumbnail} alt=\"User submitted\" src={photo.path} />\r\n                )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleryTile;","import React, { useState, useEffect } from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport GalleryTile from './gallerytile';\r\n\r\n\r\nconst Home = props => {\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const { setNavPath, newlogin } = props;\r\n    const [galleries, setGalleries] = useState([]);\r\n    const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/\")\r\n            .then(res => setGalleries(res) )\r\n            .catch(err => console.log(err));\r\n        setNavPath( [\r\n            { name:\"Home\",\r\n                link: \"/home/\" + user.sub\r\n            }\r\n        ])\r\n    },[]);\r\n\r\n    if(newlogin) {\r\n        const user_update = { \r\n            name: user.name,\r\n            email: user.email,\r\n            auth0_id: user.sub,\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"users/addorupdate/\" + user.sub, user_update)\r\n        .then(res => Navigate(\"/home/\" + user.sub))\r\n        .catch(err => console.log(err));\r\n        return (\r\n            <div>Something went wrong.</div>\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div>\r\n                <h3 style={{display: \"inline-block\", marginRight: \"40px\"}} >My galleries:</h3>\r\n                <Button style={{display: \"inline-block\"}} variant=\"contained\" color=\"primary\" name=\"addnewgallery\" \r\n                    onClick={() => Navigate(\"/gallery/new\")}>Add new gallery!</Button>\r\n            </div>\r\n            { galleries && galleries.filter(gallery => gallery.owner_id === user.sub).map((gallery) => {\r\n                return <GalleryTile gallery={gallery} />\r\n            })}\r\n            <h3>Other galleries:</h3>\r\n            { galleries && galleries.filter(gallery => gallery.owner_id !== user.sub).map((gallery) => {\r\n                return <GalleryTile gallery={gallery} />\r\n            })}\r\n        </>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Login from './views/login';\r\nimport { Router } from \"@reach/router\";\r\nimport NewGallery from \"./views/newgallery\";\r\nimport NewPhotoPage from \"./views/newphotopage\";\r\nimport Galleries from './views/galleries';\r\nimport Gallery from \"./views/gallery\";\r\nimport PhotoPage from \"./views/photopage\";\r\nimport NavBar from \"./views/navbar\";\r\nimport Home from \"./views/home\";\r\n\r\nconst AuthRoutes = props => {\r\n    const { user, isAuthenticated, isLoading } = useAuth0();\r\n    const [ navpath, setNavPath ] = useState([])\r\n\r\n    if(isLoading) {\r\n        return (\r\n            <div>Logging you in . . . </div>\r\n        )\r\n    }\r\n\r\n    if(!isAuthenticated) {\r\n        return(\r\n            <div>\r\n                <h1>Not Logged In</h1>\r\n                <p>You must be logged in to perform this action.</p>\r\n                <Login />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar user={user} navpath={navpath}/>\r\n            <Router>\r\n                <Home path=\"/loggedin\" setNavPath={ setNavPath } newlogin={true} />\r\n                <Home path=\"/home/:id\" setNavPath={ setNavPath } />\r\n                <Galleries path=\"/galleries\" setNavPath={ setNavPath }/>\r\n                <NewGallery path=\"/gallery/new\" />\r\n                <Gallery path=\"/gallery/:id\" setNavPath={ setNavPath }/>\r\n                <NewPhotoPage path=\"/photos/new/:togallery\" />\r\n                <PhotoPage path=\"/photos/:id\" setNavPath={ setNavPath }/>\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AuthRoutes;\r\n\r\n/*\r\n<BasicPhotoPage path=\"/photos/new/:togallery\" isnew={true} />\r\n                <BasicPhotoPage path=\"/photos/:id\" isnew={false} />\r\n                <BasicGallery path=\"/gallery/new\" isnew={true} />\r\n                <BasicGallery path=\"/gallery/:id\"  isnew={false} />\r\n                */","import React, { useState, useEffect } from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport GalleryTile from './gallerytile';\r\n\r\nconst HomeAnon = props => {\r\n    const [ galleries, setGalleries ] = useState([]);\r\n    const Navigate = useNavigate();\r\n    const { loginWithRedirect } = useAuth0();\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:8002/api/photos_anon/\")\r\n            .then(response =>  response.json())\r\n            .then(res =>  { console.log(res);  setGalleries(res) } )\r\n            .catch(err => console.log(err));\r\n    },[]);\r\n    \r\n    return (\r\n        <>\r\n            <div>\r\n                <h3>Welcome to PhotoComments</h3>\r\n                <p>The following galleries have been set by their users to allow anonymous views and comments.  Please consider registering for an account.</p>\r\n                <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" type='button' onClick={() => loginWithRedirect()}>Register for an account.</Button>\r\n            </div>\r\n            { galleries.length && galleries.map((gallery) => {\r\n                console.log(gallery.name);\r\n                return <GalleryTile gallery={gallery} key={gallery._id} anon={true}/>\r\n            })}\r\n        </>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default HomeAnon;","import React, { useState } from 'react';\r\nimport styles from \"./madeby.module.css\";\r\n\r\nconst MadeBy = props => {\r\n\r\n    return (\r\n        <div className={styles.madeby} onClick={() => window.open(\"https://www.mrsontag.com\", \"_blank\")}>\r\n            <p>2021 Matt Sontag</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MadeBy;","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { Router } from '@reach/router'\r\nimport Login from './views/login'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AuthRoutes from './authroutes';\r\nimport HomeAnon from \"./views/home_anon\";\r\nimport Gallery from \"./views/gallery\";\r\nimport PhotoPage from \"./views/photopage\";\r\nimport MadeBy from \"./views/madeby\";\r\n\r\nfunction App() {\r\n    const [ navpath, setNavPath ] = useState([])\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {/*<div id=\"background\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 600\">\r\n                    <path fill=\"#ffffff\" fill-opacity=\"1\" d=\"M0,192L48,170.7C96,149,192,107,288,74.7C384,43,480,21,576,42.7C672,64,768,128,864,176C960,224,1056,256,1152,272C1248,288,1344,288,1392,288L1440,288L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z\"></path>\r\n                </svg>\r\n            </div>*/}   \r\n            <div className=\"container\">\r\n                <MadeBy />\r\n                <Router>\r\n                    <Login path=\"/\" />\r\n                    <HomeAnon path=\"/anon/\" />\r\n                    <Gallery path=\"/gallery_anon/:id\" anon={true} setNavPath={ setNavPath }/>\r\n                    <PhotoPage path=\"/photos_anon/:id\" anon={true} setNavPath={ setNavPath }/>\r\n                    <AuthRoutes path=\"/*\" />\r\n                </Router>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Auth0Provider \r\n        domain=\"dev-08umzn2o.us.auth0.com\" \r\n        clientId=\"76OKk6yoIt4f4W4ChvVmYytfgRcZqI1I\"\r\n        redirectUri={ \"http://localhost:3000/loggedin/\"}\r\n        audience=\"https://localhost:8000/api/\"\r\n        scope=\"read:any\">\r\n        <App />\r\n      </Auth0Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}