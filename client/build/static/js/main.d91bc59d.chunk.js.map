{"version":3,"sources":["views/gallery.module.css","views/photopage.module.css","views/newphotopage.module.css","views/galleries.module.css","Components/addcomment.module.css","views/home.module.css","views/photo.module.css","views/login.js","views/auth0secureapi.js","views/photo.js","views/newgallery.js","views/newphotopage.js","views/galleries.js","views/gallery.js","Components/target.js","Components/addcomment.js","views/photopage.js","views/navbar.js","views/home.js","authroutes.js","views/galleries_nologin.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Login","loginWithRedirect","useAuth0","Button","style","margin","variant","color","type","onClick","auth0SecureAPI","getAccessTokenSilently","endpoint","body","a","accessToken","payload","method","headers","Authorization","JSON","stringify","fetch","response","json","console","log","message","Photo","props","photo","path","_id","ratings","comments","Navigate","useNavigate","avgrating","length","reduce","total","current","rating","className","styles","small","src","alt","Gallery","user","isLoading","useState","gallery","setGallery","useEffect","gallery_name","authorized_user_ids","container","floating","name","value","onChange","e","target","toString","split","gallery_update","owner_id","sub","then","res","catch","err","NewPhotoPage","togallery","setPhoto","gallery_id","Galleries","isAuthenticated","galleries","setGalleries","setNavPath","temp_galleries","link","map","index","thumbnail","id","photoslist","editMode","setEditMode","display","visible","invisible","preventDefault","topalign","Target","onClickPassed","xloc","yloc","diam","active","hidden","text","showdiam","Math","max","position","border","top","left","borderRadius","width","height","padding","onMouseDown","stopPropagation","AddComment","commentloc","setCommentLoc","setActiveComment","textvalue","setTextValue","xpct","ypct","diampct","addcomment","rows","cols","comment","temp_photo","user_id","user_name","x","y","PhotoPage","imagebox","setValue","activecomment","setDiam","selection","setSelection","image","useRef","imgcontainer","ref","onMouseUp","event","getBoundingClientRect","round","onMouseMove","selectiondiam","sqrt","clientX","clientY","onLoad","new_selection","Box","component","mb","borderColor","Rating","newValue","newrating","found","setMyRating","find","regular","UserBar","picture","navpath","logout","textAlign","fontSize","fontWeight","step","href","maxWidth","maxHeight","returnTo","GalleryTile","Home","newlogin","user_update","email","auth0_id","marginRight","filter","AuthRoutes","FetchGalleries","GalleriesNoLogin","navigate","bind","CardDeck","Card","Img","Title","Body","title","Footer","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","audience","scope","document","getElementById"],"mappings":"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","file":"static/js/main.d91bc59d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gallery_container__1zL05\",\"invisible\":\"gallery_invisible__2g5X5\",\"visible\":\"gallery_visible__gRXYO\",\"floating\":\"gallery_floating__1MyD8\",\"topalign\":\"gallery_topalign__2_RN5\",\"halfsize\":\"gallery_halfsize__2MG5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"photopage_container__GUJqG\",\"invisible\":\"photopage_invisible__3k6NC\",\"floating\":\"photopage_floating__3-nOm\",\"active\":\"photopage_active__3lihy\",\"regular\":\"photopage_regular__2qyBY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"newphotopage_container__3u8Ys\",\"invisible\":\"newphotopage_invisible__V0F9x\",\"floating\":\"newphotopage_floating__HliyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"invisible\":\"galleries_invisible__6bZJt\",\"visible\":\"galleries_visible__2LFml\",\"gallery\":\"galleries_gallery__3WSy6\",\"thumbnail\":\"galleries_thumbnail__wmdhg\",\"topalign\":\"galleries_topalign__NkLNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"addcomment_hidden__1gKDJ\",\"addcomment\":\"addcomment_addcomment__DweRn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"invisible\":\"home_invisible__kQkfp\",\"visible\":\"home_visible__3Q0PU\",\"gallery\":\"home_gallery__33q8l\",\"thumbnail\":\"home_thumbnail__3lEE1\",\"topalign\":\"home_topalign__3G_73\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"small\":\"photo_small__2tgGO\"};","import React from \"react\";\r\nimport {Link} from \"@reach/router\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n//import styles from \"./login.module.css\"; \r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst Login = () => {\r\n    const { loginWithRedirect } = useAuth0();\r\n\r\n    return (\r\n        <div>\r\n            <h1 >Welcome to Photo Commentor</h1>\r\n            <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" type='button' onClick={() => loginWithRedirect()}>Login or Register</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","const auth0SecureAPI = async (getAccessTokenSilently, endpoint, body) => {\r\n    let payload;\r\n    try {\r\n        const accessToken = await getAccessTokenSilently({});\r\n        let response;\r\n        if(body) {\r\n            payload = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(body)\r\n            };\r\n        } else {\r\n            payload = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            };\r\n        }\r\n        response = await fetch(\"http://localhost:8002/api/\" + endpoint, payload);\r\n        return response.json();\r\n    } catch (e) {\r\n        console.log(e.message);\r\n    }\r\n}\r\n\r\nexport default auth0SecureAPI;","import { useNavigate } from '@reach/router';\r\nimport React from 'react';\r\nimport styles from './photo.module.css';\r\n\r\n\r\n\r\nconst Photo = props => {\r\n    const { path, _id, ratings, comments } = props.photo;\r\n    const Navigate = useNavigate();\r\n    \r\n    const avgrating = ratings.length ? ratings.reduce((total, current) => total + current.rating, 0) / (ratings.length) : 0;\r\n\r\n    return (\r\n        <div className={styles.small} onClick={() => Navigate(\"/photos/\" + _id)}>\r\n            <img src={path} alt=\"Comment-tagged\"/>\r\n            <h5>{ratings.length ? `${ratings.length} Rating(s), average ${avgrating}` : \"No ratings\"}</h5>\r\n            <h5>{comments.length ? comments.length + \" Comments\" : \"No comments\"}</h5>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst Gallery = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [ gallery, setGallery ] = useState({});\r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            setGallery({gallery_name:\"New gallery . . . \", authorized_user_ids: \"List authorized users . . . \"});\r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: user.sub\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/new\", gallery_update)\r\n        .then(res => {\r\n            Navigate(\"/gallery/\" + res._id);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <button onClick={()=> Navigate(\"/loggedin/\")}>Back to gallery list!</button>\r\n            <h2>Please enter information for your new gallery.</h2>\r\n            <form className={ styles.floating }>\r\n                <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                <label> Authorized Users (separate by commas): </label>\r\n                <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                <button type=\"button\" name=\"save\" onClick={saveGallery}>Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './newphotopage.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst NewPhotoPage = props => {\r\n    const { isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { togallery }  = props;\r\n    const [ photo, setPhoto ] = useState({});\r\n    \r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        setPhoto( {gallery_id: togallery} );\r\n        console.log(\"Ran use effect\");\r\n    },[isLoading]);\r\n\r\n    const savePhoto = () => {\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/add/\" + togallery, photo)\r\n        .then(res => {\r\n                console.log(res);\r\n                Navigate(\"/photos/\" + res.photo[res.photo.length - 1]._id);\r\n            })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    \r\n    return(\r\n        <div className={styles.container}>\r\n            <img src={photo.path} alt=\"User submitted with comments\" />\r\n            <button onClick={savePhoto}>Save</button>\r\n            <form className={ styles.floating}>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto( {...photo, path: e.target.value} ) } />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPhotoPage;","import React, { useState, useEffect } from 'react';\r\n//import LogOutButton from './logout';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport styles from \"./galleries.module.css\";\r\n\r\nconst Galleries = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [galleries, setGalleries] = useState([]);\r\n    const Navigate = useNavigate();\r\n    const { setNavPath } = props;\r\n\r\n    \r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            setNavPath( [\r\n                { name:user.name + \" Galleries\",\r\n                    link: \"/loggedin/\"\r\n                }\r\n            ])\r\n            console.log(\"User\", user);\r\n        }\r\n    },[isLoading]);\r\n\r\n    const runRetrieve = () => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div>\r\n                <button onClick={runRetrieve}>Run retrieve again!</button>\r\n                <button name=\"addnewgallery\" onClick={() => Navigate(\"/gallery/new\")}>Add new gallery!</button>\r\n            </div>\r\n            { galleries && galleries.map((gallery) => {\r\n                return (\r\n                    <div className={styles.gallery} onClick={() => Navigate(\"/gallery/\" + gallery._id)}>\r\n                        <h2>{gallery.gallery_name}</h2>\r\n                        <p>Photo Count: {gallery.photo.length}</p>\r\n                        { gallery.photo.length && gallery.photo.map((photo, index) => {\r\n                            if(index>4) { return };\r\n                            return (\r\n                                <img className={styles.thumbnail} alt=\"User submitted\" src={photo.path} />\r\n                            )\r\n                            })\r\n                        }\r\n                    </div> )\r\n            })}\r\n        </div>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Galleries;","import React, { useState, useEffect } from 'react';\r\n//import Axios from 'axios';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst Gallery = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id }  = props;\r\n    const [ gallery, setGallery ] = useState({});\r\n    const photoslist = gallery.photo ?? [];\r\n    const [editMode, setEditMode ] = useState(false);\r\n    const Navigate = useNavigate();\r\n    const { setNavPath } = props;\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/gallery/\" + id)\r\n            .then(res => {\r\n                setGallery(res[0]);\r\n                setNavPath( [ \r\n                    { name: \"Home\", link: \"/home/\" + user.sub },\r\n                    { name: res[0].gallery_name, link: \"/gallery/\" + id }\r\n                ])\r\n            })\r\n            .catch(err => console.log(err));               \r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: gallery.owner_id\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/update/\" + id, gallery_update)\r\n            .catch(err => console.log(err));\r\n        setEditMode(false);\r\n    }\r\n    \r\n    const clickedEdit = () => {\r\n        if(gallery.owner_id === user.sub) {\r\n            setEditMode(true);\r\n        }\r\n    }\r\n    //add control to say \"all users\" vs \"specific users\"\r\n    //add control to add photos\r\n    return (\r\n        <div className={styles.container}>\r\n            <h2>{gallery.gallery_name}</h2>\r\n            <Button variant=\"contained\" color=\"primary\" name=\"editformgo\" style={ (user.sub === gallery.owner_id && !editMode) ? { } : { display: \"none\" } } onClick={clickedEdit}>Edit Gallery</Button>\r\n            <div className={ editMode ? styles.visible : styles.invisible }>\r\n                <form className={ styles.floating }>\r\n                    <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                    <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" className={ editMode ? styles.visible : styles.invisible } type=\"button\" name=\"save\" onClick={saveGallery}>Save</Button>\r\n                    <div>\r\n                        <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" onClick={(e)=> {e.preventDefault(); Navigate(\"/photos/new/\" + gallery._id)}}>Add new photo.</Button>\r\n                        <Button style={{margin: \"5px\" }} variant=\"contained\" color=\"primary\" name=\"editformcancel\" onClick={() => setEditMode(false)}>Cancel</Button>\r\n                    </div>\r\n                </form>\r\n                \r\n            </div>\r\n            <div className={styles.topalign}>\r\n                { photoslist && photoslist.map((photo) => {\r\n                    return(\r\n                        <Photo photo={photo} />\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React from 'react';\r\n\r\nconst Target = props => {\r\n    const { xloc, yloc, diam, active, hidden = false, onClick, text=\"\" } = props;\r\n    let showdiam = Math.max(diam, 10);\r\n    if(typeof(showdiam)!== \"number\") { showdiam = 10};\r\n    \r\n    let onClickPassed;\r\n    onClick ? onClickPassed = onClick : onClickPassed = () => {};\r\n\r\n    return (\r\n        <div style={{\r\n            display: hidden ? \"none\" : \"block\",\r\n            position: \"absolute\",\r\n            border: active ? \"3px solid red\" : \"3px dashed white\",\r\n            top: yloc - (showdiam / 2) + \"px\",\r\n            left: xloc - (showdiam / 2) + \"px\",\r\n            borderRadius: showdiam + \"px\",\r\n            width: showdiam - 3 + \"px\",\r\n            height: showdiam - 3 + \"px\",\r\n            padding: diam / 8 + \"px\",\r\n            margin: \"0px\",\r\n            color: \"white\",\r\n        }} onClick={onClickPassed} onMouseDown={(e) => e.stopPropagation()}>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Target;","import React, { useState } from 'react';\r\nimport styles from './addcomment.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from '../views/auth0secureapi';\r\nimport Target from './target';\r\n\r\nconst AddComment = props => {\r\n    const { photo, setPhoto, commentloc, setCommentLoc, setActiveComment } = props;\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const [ textvalue, setTextValue ] = useState(\"Enter text here . . . \")\r\n    const { xloc, yloc, xpct, ypct, diam, diampct } = commentloc ?? {};\r\n\r\n    const saveComment = (comment) => {\r\n        let temp_photo;\r\n        if(photo.comments) {\r\n        temp_photo = {...photo, \r\n            comments: [\r\n                ...photo.comments, \r\n                {\r\n                    user_id: user.sub,\r\n                    user_name: user.name,\r\n                    x: xpct,\r\n                    y: ypct,\r\n                    diam: diampct,\r\n                    comment: textvalue\r\n                }\r\n            ] };\r\n        } else {\r\n            temp_photo = {...photo, \r\n                comments: [\r\n                    {\r\n                        user_id: user.sub,\r\n                        user_name: user.name,\r\n                        x: xpct,\r\n                        y: ypct,\r\n                        diam: diampct,\r\n                        comment: textvalue\r\n                    }\r\n                ] };\r\n        }\r\n        setPhoto(temp_photo);\r\n        console.log(\"Saving photo\", temp_photo, \"To path: \", photo._id);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + photo._id, temp_photo)\r\n            .then(res => setPhoto(res.photo[0]))\r\n            .catch(err => console.log(err));\r\n        setCommentLoc(null);\r\n        setTextValue(\"Enter text here . . . \");\r\n        setActiveComment(null);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Target xloc={xloc} yloc={yloc} diam={diam} active={true} hidden={commentloc===null}/>\r\n            <div className={commentloc ?  styles.addcomment : styles.hidden } \r\n                style={commentloc ? \r\n                    { \r\n                        position: \"absolute\",\r\n                        top: yloc + diam / 2 + 10,\r\n                        left: Math.max(xloc - 300,0)\r\n                    } : \r\n                    null }\r\n                >\r\n                \r\n                <form name=\"AddComment\">\r\n                    <textarea rows=\"4\" cols=\"75\" name=\"comment\" value={textvalue} onChange={(e)=>setTextValue(e.target.value)}></textarea>\r\n                    <button type=\"button\" onClick={saveComment}>Submit</button>\r\n                    <button type=\"button\" onClick={() => { setTextValue(\"Enter text here . . . \"); setCommentLoc(null);;}}>Cancel</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddComment;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './photopage.module.css';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport AddComment from '../Components/addcomment';\r\nimport Target from \"../Components/target\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst PhotoPage = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id } = props;\r\n    const [value, setValue] = useState(0)\r\n    const [photo, setPhoto] = useState({});\r\n    const [gallery, setGallery] = useState({});\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [commentloc, setCommentLoc] = useState(null);\r\n    const [activecomment, setActiveComment] = useState(null);\r\n    const [diam, setDiam] = useState(10);\r\n    const [selection, setSelection] = useState({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n\r\n    const image = useRef(null);\r\n    const imgcontainer = useRef(null);\r\n    const Navigate = useNavigate();\r\n    \r\n    let imagebox;\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/\" + id)\r\n                .then(res => {\r\n                    console.log(res.photo[0])\r\n                    setPhoto({ ...res.photo[0], gallery_name: res.gallery_name, gallery_id: res._id });\r\n                    setGallery( {gallery_name: res.gallery_name, gallery_id: res._id})\r\n                    for (const rating of res.photo[0].ratings) {\r\n                        console.log(\"looking at\", rating.user_id);\r\n                        if (rating.user_id === user.sub) {\r\n                            setValue(rating.rating);\r\n                            break;\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n                \r\n        }\r\n        console.log(\"Ran use effect\");\r\n    }, [isLoading]);\r\n\r\n    const clickEdit = () => {\r\n        if (editMode) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, photo)\r\n                .then(res => {\r\n                    //let whichphoto = res.photo.find((photo) => photo._id = id);\r\n                    //console.log(\"Photos:\", res, \"Which photo: \", whichphoto);\r\n                    setPhoto(res.photo.find((photo) => photo._id === id));\r\n                    setGallery({gallery_name: res.gallery_name, gallery_id: res._id})\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n        setEditMode(!editMode);\r\n    }\r\n\r\n    const mouseUp = (event) => {\r\n        if (!selection.hidden) {\r\n            imagebox = (image.current.getBoundingClientRect());\r\n            let xpct = Math.round(selection.xloc / imagebox.width * 100);\r\n            let ypct = Math.round(selection.yloc / imagebox.height * 100);\r\n            let diampct = diam / imagebox.width * 100;\r\n            console.log(\"Imagebox: \", imagebox, \"Cursor\", selection, \"Pct\", xpct, ypct, diampct)\r\n            \r\n            setCommentLoc({\r\n                ...selection,\r\n                xpct: xpct,\r\n                ypct: ypct,\r\n                diam: diam,\r\n                diampct: diampct\r\n            })\r\n            setActiveComment(null);\r\n            setSelection({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n        }\r\n    }\r\n\r\n    const mouseMove = (event) => {\r\n        imagebox = (image.current.getBoundingClientRect());\r\n        if (!selection.hidden) {\r\n            event.preventDefault();\r\n            const selectiondiam = Math.max(10, 2 * Math.sqrt(((event.clientX - imagebox.left) - selection.xloc) ** 2 + ((event.clientY - imagebox.top) - selection.yloc) ** 2));\r\n            setDiam(selectiondiam);\r\n        }\r\n    }\r\n\r\n    const mouseDown = (event) => {\r\n        imagebox = (image.current.getBoundingClientRect());\r\n        const new_selection = {\r\n            xloc: event.clientX - imagebox.left,\r\n            yloc: event.clientY - imagebox.top,\r\n            diam: diam,\r\n            hidden: false\r\n        };\r\n        setSelection(new_selection);\r\n        setDiam(10);\r\n        setActiveComment(null);\r\n    }\r\n\r\n    const setMyRating = (newrating) => {\r\n        let found = false;\r\n        let temp_photo\r\n        if (!photo.ratings || !photo.ratings.length) {\r\n            temp_photo = {\r\n                ...photo,\r\n                ratings: [{\r\n                    rating: newrating,\r\n                    user_id: user.sub,\r\n                    user_name: user.name\r\n                }]\r\n            }\r\n        } else {\r\n            temp_photo = {\r\n                ...photo,\r\n                ratings: photo.ratings.map(rating => {\r\n                    if (rating.user_id === user.sub) {\r\n                        found = true;\r\n                        return {\r\n                            ...rating,\r\n                            rating: newrating,\r\n                            user_name: user.name\r\n                        }\r\n                    } else {\r\n                        return rating;\r\n                    }\r\n                })\r\n            }\r\n            if (!found) {\r\n                temp_photo = {\r\n                    ...temp_photo,\r\n                    ratings: [...temp_photo.ratings, {\r\n                        rating: newrating,\r\n                        user_id: user.sub,\r\n                        user_name: user.name\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n        setPhoto(temp_photo);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, temp_photo)\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div ref={imgcontainer} id=\"img_container\" name=\"imagecontainer\" onMouseUp={mouseUp} onMouseMove={mouseMove}>\r\n                <Target key=\"selector\" xloc={selection.xloc} yloc={selection.yloc} diam={diam} active={true} hidden={selection.hidden} />\r\n                <img onLoad={() => setActiveComment(27)} src={photo.path} ref={image} onMouseDown={mouseDown} alt=\"User submitted with comments\" />\r\n                {photo.comments && photo.comments.map((comment, index) => {\r\n                    imagebox = (image.current.getBoundingClientRect());\r\n                    const xloc = (comment.x / 100 * imagebox.width);\r\n                    const yloc = (comment.y / 100 * imagebox.height);\r\n                    const showdiam = (comment.diam / 100 * imagebox.width);\r\n                    const clickTarget = () => {\r\n                        if (activecomment === comment._id) {\r\n                            setActiveComment(null)\r\n                        } else {\r\n                            setActiveComment(comment._id)\r\n                        }\r\n                    }\r\n                    return (\r\n                        <Target key={comment._id} onClick={(event) => {\r\n                            event.stopPropagation();\r\n                            clickTarget();\r\n                        }} xloc={xloc} yloc={yloc} diam={showdiam} active={(activecomment === comment._id)} hidden={false} text={index + 1} />\r\n                    )\r\n                })}\r\n            </div>\r\n            {//NEED TO RE-WRITE \r\n            }\r\n            <div className=\"star\">\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                    <Rating\r\n                        name=\"simple-controlled\"\r\n                        value={value}\r\n                        onChange={(event, newValue) => {\r\n                            setValue(newValue);\r\n                            setMyRating(newValue);\r\n                        }}\r\n                    />\r\n                </Box>\r\n            </div>\r\n            {//END RE-WRITE \r\n            }\r\n            <Button variant=\"contained\" color=\"primary\" onClick={clickEdit}>{editMode ? \"Save\" : \"Edit\"}</Button>\r\n            <form className={!editMode ? \" \" + styles.invisible : styles.floating}>\r\n                <input style={{width: \"95%\" }} type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto({ ...photo, path: e.target.value })} />\r\n                <Button variant=\"contained\" color=\"primary\" onClick={() => setEditMode(false)}>Cancel</Button>\r\n            </form>\r\n            <AddComment comment={activecomment} setActiveComment={setActiveComment} commentloc={commentloc} setCommentLoc={setCommentLoc} photo={photo} setPhoto={setPhoto} id={id} />\r\n            <h5>Ratings</h5>\r\n            { photo.ratings && photo.ratings.map((rating) => {\r\n                return (\r\n                    <p>{rating.user_name} - {rating.rating}</p>\r\n                )\r\n            })}\r\n            <h5>Comments</h5>\r\n            { photo.comments && photo.comments.map((comment, index) => {\r\n                const clickComment = () => {\r\n                    if (activecomment === comment._id) {\r\n                        setActiveComment(null)\r\n                    } else {\r\n                        setActiveComment(comment._id)\r\n                    }\r\n                }\r\n                return (\r\n                    <>\r\n                        <p onClick={clickComment} className={(activecomment === comment._id) ? styles.active : styles.regular}>{`${index + 1}: ${comment.user_name} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                    </>\r\n                )\r\n            })}\r\n            <Button variant=\"contained\" color=\"primary\" onClick={() => Navigate(\"/gallery/\" + gallery.gallery_id)}>Go back to gallery!</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PhotoPage;","import React from 'react';\r\nimport { useNavigate } from '@reach/router'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst UserBar = props => {\r\n    const {name, picture } = props.user;\r\n    const { navpath } = props;\r\n    const Navigate = useNavigate();\r\n    const { logout } = useAuth0();\r\n\r\n    const style = {\r\n        maxWidth: \"40px\", \r\n        maxHeight: \"40px\",\r\n        border: \"1px solid darkgrey\",\r\n        borderRadius: \"20px\"\r\n    }\r\n        \r\n\r\n    return (\r\n        <div>\r\n            <div style={{display: \"inline-block\", width: \"700px\",  textAlign: \"left\", fontSize: \"larger\", fontWeight: \"bold\"}}>\r\n                {navpath.length && navpath.map((step, index) => {\r\n                    return(\r\n                        <>\r\n                            <a href={step.link} onClick={(e) => { e.preventDefault(); Navigate(step.link)}}>{step.name}</a> \r\n                            { index < navpath.length - 1 ? <b>{` -> `}</b> : \"\"}\r\n                        </>\r\n                    )\r\n                }) }\r\n            </div>\r\n            <div style={{display: \"inline-block\", width: \"270px\", textAlign: \"right\"}}>\r\n                <h3>{name}</h3>\r\n                <img style={style} alt=\"User\" src={picture} />\r\n                <Button variant=\"contained\" color=\"primary\" onClick={() => logout({ returnTo: \"http://localhost:3000/\" })}>Logout</Button>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default UserBar;","import React, { useState, useEffect } from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport styles from \"./home.module.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst GalleryTile = props => {\r\n    const Navigate = useNavigate();\r\n    const { gallery } = props;\r\n    return (\r\n        <div key={gallery._id} className={styles.gallery} onClick={() => Navigate(\"/gallery/\" + gallery._id)}>\r\n            <h2>{gallery.gallery_name}</h2>\r\n            <p>Photo Count: {gallery.photo.length}</p>\r\n            { gallery.photo.length && gallery.photo.map((photo, index) => {\r\n                //if() { return };\r\n                return index>4 ? null : (\r\n                    <img className={styles.thumbnail} alt=\"User submitted\" src={photo.path} />\r\n                )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Home = props => {\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const { setNavPath, newlogin } = props;\r\n    const [galleries, setGalleries] = useState([]);\r\n    const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/\")\r\n            .then(res => setGalleries(res) )\r\n            .catch(err => console.log(err));\r\n        setNavPath( [\r\n            { name:\"Home\",\r\n                link: \"/home/\" + user.sub\r\n            }\r\n        ])\r\n    },[]);\r\n\r\n    if(newlogin) {\r\n        const user_update = { \r\n            name: user.name,\r\n            email: user.email,\r\n            auth0_id: user.sub,\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"users/addorupdate/\" + user.sub, user_update)\r\n        .then(res => Navigate(\"/home/\" + user.sub))\r\n        .catch(err => console.log(err));\r\n        return (\r\n            <div>Something went wrong.</div>\r\n        )\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div>\r\n                <h3 style={{display: \"inline-block\", marginRight: \"40px\"}} >My galleries:</h3>\r\n                <Button style={{display: \"inline-block\"}} variant=\"contained\" color=\"primary\" name=\"addnewgallery\" \r\n                    onClick={() => Navigate(\"/gallery/new\")}>Add new gallery!</Button>\r\n            </div>\r\n            { galleries && galleries.filter(gallery => gallery.owner_id === user.sub).map((gallery) => {\r\n                return <GalleryTile gallery={gallery} />\r\n            })}\r\n            <h3>Other galleries:</h3>\r\n            { galleries && galleries.filter(gallery => gallery.owner_id !== user.sub).map((gallery) => {\r\n                return <GalleryTile gallery={gallery} />\r\n            })}\r\n        </>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Login from './views/login';\r\nimport { Router } from \"@reach/router\";\r\nimport NewGallery from \"./views/newgallery\";\r\nimport NewPhotoPage from \"./views/newphotopage\";\r\nimport Galleries from './views/galleries';\r\nimport Gallery from \"./views/gallery\";\r\nimport PhotoPage from \"./views/photopage\";\r\nimport NavBar from \"./views/navbar\";\r\nimport Home from \"./views/home\";\r\n\r\nconst AuthRoutes = props => {\r\n    const { user, isAuthenticated, isLoading } = useAuth0();\r\n    const [ navpath, setNavPath ] = useState([])\r\n\r\n    if(isLoading) {\r\n        return (\r\n            <div>Logging you in . . . </div>\r\n        )\r\n    }\r\n\r\n    if(!isAuthenticated) {\r\n        return(\r\n            <div>\r\n                <h1>Not Logged In</h1>\r\n                <p>You must be logged in to perform this action.</p>\r\n                <Login />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar user={user} navpath={navpath}/>\r\n            <Router>\r\n                <Home path=\"/loggedin\" setNavPath={ setNavPath } newlogin={true} />\r\n                <Home path=\"/home/:id\" setNavPath={ setNavPath } />\r\n                <Galleries path=\"/galleries\" setNavPath={ setNavPath }/>\r\n                <NewGallery path=\"/gallery/new\" />\r\n                <Gallery path=\"/gallery/:id\" setNavPath={ setNavPath }/>\r\n                <NewPhotoPage path=\"/photos/new/:togallery\" />\r\n                <PhotoPage path=\"/photos/:id\" setNavPath={ setNavPath }/>\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AuthRoutes;\r\n\r\n/*\r\n<BasicPhotoPage path=\"/photos/new/:togallery\" isnew={true} />\r\n                <BasicPhotoPage path=\"/photos/:id\" isnew={false} />\r\n                <BasicGallery path=\"/gallery/new\" isnew={true} />\r\n                <BasicGallery path=\"/gallery/:id\"  isnew={false} />\r\n                */","import {  navigate } from '@reach/router'\r\nimport Card from 'react-bootstrap/Card'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CardDeck from 'react-bootstrap/CardDeck'\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\n\r\nconst FetchGalleries = async () => {\r\n    try {\r\n        const response = await fetch(\"http://localhost:8000/api/photos/owner/123\")\r\n        //console.log(response.json())\r\n        return response.json();\r\n            //setGalleries(res.json()))\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nconst GalleriesNoLogin = (props) => {\r\n    const [ galleries, setGalleries ] = useState([]);\r\n    const user = { name: \"No login\"}\r\n    //const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        FetchGalleries()\r\n            .then(res => setGalleries(res));\r\n    });\r\n\r\n    return (\r\n        <div className=\"Main\" style={{ width: \"auto\" }}>\r\n            <h1 className=\"UserName\">{user.name}</h1>\r\n            <Button onClick={navigate.bind(this, '/gallery/new')}>Add gallery!</Button>\r\n            <CardDeck>\r\n                {galleries && galleries.map(gallery => (\r\n                    <Card key={gallery._id}>\r\n                        <Card.Img variant=\"top\" src={gallery.photo[0] && gallery.photo[0].path} />\r\n                        <Card.Title>{gallery.gallery_name}</Card.Title>\r\n                        <Card.Body>\r\n                            <Card.Title>{gallery.title}</Card.Title>\r\n                            <p>Photos: {gallery.photo.length}</p>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button onClick={navigate.bind(this, '/gallery/' + gallery._id)}>View Gallery</Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                ))}\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesNoLogin;","import './App.css';\r\nimport { Router } from '@reach/router'\r\nimport Login from './views/login'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AuthRoutes from './authroutes';\r\nimport GalleriesNoLogin from \"./views/galleries_nologin\";\r\n\r\nfunction App() {\r\n    return (\r\n        <div className=\"App\">\r\n            {/*<div id=\"background\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 600\">\r\n                    <path fill=\"#ffffff\" fill-opacity=\"1\" d=\"M0,192L48,170.7C96,149,192,107,288,74.7C384,43,480,21,576,42.7C672,64,768,128,864,176C960,224,1056,256,1152,272C1248,288,1344,288,1392,288L1440,288L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z\"></path>\r\n                </svg>\r\n            </div>*/}   \r\n            <div className=\"container\">\r\n                <Router>\r\n                    <Login path=\"/\" />\r\n                    <GalleriesNoLogin path=\"/nologin/\" />\r\n                    <AuthRoutes path=\"/*\" />\r\n                </Router>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Auth0Provider \r\n        domain=\"dev-08umzn2o.us.auth0.com\" \r\n        clientId=\"76OKk6yoIt4f4W4ChvVmYytfgRcZqI1I\"\r\n        redirectUri={ \"http://localhost:3000/loggedin/\"}\r\n        audience=\"https://localhost:8000/api/\"\r\n        scope=\"read:any\">\r\n        <App />\r\n      </Auth0Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}