{"version":3,"sources":["views/login.module.css","Components/Details.module.css","views/gallery.module.css","Components/addcomment.module.css","views/login.js","views/auth0secureapi.js","views/galleries.js","views/gallery.js","Components/target.js","Components/addcomment.js","Components/Details.js","authroutes.js","views/galleries_nologin.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Login","useAuth0","loginWithRedirect","logout","className","styles","login","buttons","title","type","onClick","register","auth0SecureAPI","getAccessTokenSilently","endpoint","body","a","accessToken","payload","method","headers","Authorization","JSON","stringify","fetch","response","json","console","log","message","Galleries","props","isLoading","user","useState","galleries","setGalleries","useEffect","then","res","catch","err","style","width","name","Button","navigate","bind","CardDeck","map","gallery","Card","Img","variant","src","photo","path","Title","gallery_name","Body","length","Footer","_id","setGallery","id","isnew","editMode","setEditMode","authorized_user_ids","postpath","gallery_update","owner_id","floating","invisible","value","onChange","e","target","ListGroup","comments","comment","Item","Target","onClickPassed","xloc","yloc","diam","active","hidden","text","showdiam","Math","max","display","position","border","top","left","borderRadius","height","padding","margin","color","onMouseDown","stopPropagation","AddComment","setPhoto","commentloc","setCommentLoc","setActiveComment","textvalue","setTextValue","xpct","ypct","diampct","addcomment","rows","cols","temp_photo","user_id","sub","user_name","x","y","PhotoPage","imagebox","togallery","activecomment","setDiam","selection","setSelection","React","setValue","image","useRef","imgcontainer","Navigate","useNavigate","ratings","gallery_id","rating","container","class","ref","onMouseUp","event","current","getBoundingClientRect","min","round","window","pageXOffset","pageYOffset","onMouseMove","preventDefault","selectiondiam","sqrt","clientX","clientY","onLoad","alt","new_selection","index","Box","component","mb","borderColor","Rating","newValue","newrating","found","setMyRating","regular","AuthRoutes","isAuthenticated","FetchGalleries","GalleriesNoLogin","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","audience","scope","document","getElementById"],"mappings":"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","file":"static/js/main.4b51539c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__2-Fm9\",\"title\":\"login_title__1gPww\",\"buttons\":\"login_buttons__1zKoK\",\"register\":\"login_register__1jlVz\",\"logout\":\"login_logout__1DbZx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Details_container__29AQe\",\"invisible\":\"Details_invisible__3uXzr\",\"floating\":\"Details_floating__OPBMb\",\"active\":\"Details_active__2QhPP\",\"regular\":\"Details_regular__3S4CD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gallery_container__1_R-N\",\"invisible\":\"gallery_invisible__23liP\",\"floating\":\"gallery_floating__4l7hT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"addcomment_hidden__31WXD\",\"addcomment\":\"addcomment_addcomment__hTkal\"};","import React from \"react\";\r\nimport {Link} from \"@reach/router\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport styles from \"./login.module.css\"; \r\n\r\nconst Login = () => {\r\n    const { loginWithRedirect,logout } = useAuth0();\r\n\r\n    return (\r\n        <div className={styles.login}>\r\n            <div className={styles.buttons}>\r\n                <h1 className={styles.title}>Welcome to Photoly or SnapCap!</h1>\r\n                <button type='button' onClick={() => loginWithRedirect()} className={styles.register}>Login or Register</button>\r\n                <button type='button' onClick={() => logout()} className={styles.logout}>Logout</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","const auth0SecureAPI = async (getAccessTokenSilently, endpoint, body) => {\r\n    let payload;\r\n    try {\r\n        const accessToken = await getAccessTokenSilently({});\r\n        let response;\r\n        if(body) {\r\n            payload = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(body)\r\n            };\r\n        } else {\r\n            payload = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            };\r\n        }\r\n        response = await fetch(\"http://localhost:8000/api/\" + endpoint, payload);\r\n        return response.json();\r\n    } catch (e) {\r\n        console.log(e.message);\r\n    }\r\n}\r\n\r\nexport default auth0SecureAPI;","import {  navigate } from '@reach/router'\r\nimport Card from 'react-bootstrap/Card'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CardDeck from 'react-bootstrap/CardDeck'\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\n\r\nconst Galleries = (props) => {\r\n    const { isLoading, user, getAccessTokenSilently } = useAuth0();\r\n    const [ galleries, setGalleries ] = useState([]);\r\n    //const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/123\")\r\n                .then(res => setGalleries(res))\r\n                .catch(err => console.log(err));\r\n        }\r\n    }, [isLoading]);\r\n\r\n    return (\r\n        <div className=\"Main\" style={{ width: \"auto\" }}>\r\n            <h1 className=\"UserName\">{user.name}</h1>\r\n            <Button onClick={navigate.bind(this, '/gallery/new')}>Add gallery!</Button>\r\n            <CardDeck>\r\n                {galleries && galleries.map(gallery => (\r\n                    <Card key={gallery._id}>\r\n                        <Card.Img variant=\"top\" src={gallery.photo[0] && gallery.photo[0].path} />\r\n                        <Card.Title>{gallery.gallery_name}</Card.Title>\r\n                        <Card.Body>\r\n                            <Card.Title>{gallery.title}</Card.Title>\r\n                            <p>Photos: {gallery.photo.length}</p>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button onClick={navigate.bind(this, '/gallery/' + gallery._id)}>View Gallery</Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                ))}\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Galleries;","import {  navigate } from '@reach/router'\r\nimport Card from 'react-bootstrap/Card'\r\nimport React, { useState, useEffect } from 'react'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CardDeck from 'react-bootstrap/CardDeck'\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport styles from './gallery.module.css';\r\n\r\nexport default (props) => {\r\n    const { isLoading, user, getAccessTokenSilently } = useAuth0();\r\n    const [gallery, setGallery] = useState({});\r\n    const { id, isnew } = props;\r\n    const [ editMode, setEditMode ] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            if(isnew) {\r\n                setGallery({gallery_name:\"New gallery . . . \", authorized_user_ids: \"List authorized users . . . \"});\r\n                setEditMode(true);\r\n            } else {\r\n                auth0SecureAPI(getAccessTokenSilently, \"photos/gallery/\" + id)\r\n                    .then(res => setGallery(res[0]))\r\n                    .catch(err => console.log(err));   \r\n            }\r\n        }\r\n    },[isLoading]);\r\n\r\n    const clickEdit = () => {\r\n        if(editMode) {\r\n            let postpath = isnew ? \"new\" : \"update/\" + id\r\n            const gallery_update = {\r\n                gallery_name: gallery.gallery_name,\r\n                authorized_user_ids: gallery.authorized_user_ids,\r\n                owner_id: isnew ? \"123\" : gallery.owner_id\r\n            }\r\n            auth0SecureAPI(getAccessTokenSilently, \"gallery/\" + postpath, gallery_update)\r\n                .then(res=> setGallery(res))\r\n                .catch(err => console.log(err));\r\n            \r\n                //auth0SecureAPI(getAccessTokenSilently, \"photos/gallery/\" + id)\r\n            //    .then(res => setGallery(res[0]))\r\n            //    .catch(err => console.log(err));  \r\n        }\r\n        setEditMode(!editMode);\r\n    }\r\n\r\n    //let imagebox;\r\n\r\n    return (\r\n        <div className=\"Main\" style={{ width: \"auto\" }}>\r\n            <h1 className=\"UserName\">User: {user.name}</h1>\r\n            <h3>Gallery: {gallery.gallery_name}</h3>\r\n            <Button onClick={navigate.bind(this, '/Detail/new/' + gallery._id)}>Add new photo!</Button>\r\n            <Button onClick={navigate.bind(this, '/loggedin')}>Back to Galleries</Button>\r\n            <Button onClick={clickEdit}>{editMode ? \"Save\" : \"Edit\"}</Button>\r\n            <form className={ editMode ? styles.floating : styles.invisible }>\r\n                <input type=\"text\" name=\"name\" value={gallery.gallery_name ?? \"Loading . . . \"} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                {/*<label> Authorized Users (separate by commas): </label>\r\n                <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                */}\r\n                <Button name=\"editformcancel\" onClick={() => setEditMode(false)}>Cancel</Button>\r\n            </form>\r\n            <CardDeck>\r\n                {gallery.photo && gallery.photo.length && gallery.photo.map(photo => (\r\n                    <Card key={photo._id}>\r\n                        <Card.Img variant=\"top\" src={photo.path} />\r\n                        <Card.Body>\r\n                            <Card.Title>Title Goes Here</Card.Title>\r\n                            <ListGroup variant=\"flush\">\r\n                                {photo.comments.length && photo.comments.map(comment => (\r\n                                    <ListGroup.Item key={comment._id}>-{comment.comment}</ListGroup.Item>\r\n                                \r\n                                ))}\r\n                            </ListGroup>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button onClick={navigate.bind(this, '/Detail/' + photo._id)}>View Photo</Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                ))}\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nconst Target = props => {\r\n    const { xloc, yloc, diam, active, hidden = false, onClick, text=\"\" } = props;\r\n    let showdiam = Math.max(diam, 10);\r\n    if(typeof(showdiam)!== \"number\") { showdiam = 10};\r\n\r\n    let onClickPassed;\r\n    onClick ? onClickPassed = onClick : onClickPassed = () => {};\r\n\r\n    return (\r\n        <div style={{\r\n            display: hidden ? \"none\" : \"block\",\r\n            position: \"absolute\",\r\n            border: active ? \"3px solid red\" : \"3px dashed white\",\r\n            top: yloc - (showdiam / 2) + \"px\",\r\n            left: xloc - (showdiam / 2) + \"px\",\r\n            borderRadius: showdiam + \"px\",\r\n            width: showdiam - 3 + \"px\",\r\n            height: showdiam - 3 + \"px\",\r\n            padding: diam / 8 + \"px\",\r\n            margin: \"0px\",\r\n            color: \"white\",\r\n        }} onClick={onClickPassed} onMouseDown={(e) => e.stopPropagation()}>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Target;","import React, { useState } from 'react';\r\nimport styles from './addcomment.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from '../views/auth0secureapi';\r\nimport Target from './target';\r\n\r\nconst AddComment = props => {\r\n    const { photo, setPhoto, commentloc, setCommentLoc, setActiveComment } = props;\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const [ textvalue, setTextValue ] = useState(\"Enter text here . . . \")\r\n    const { xloc, yloc, xpct, ypct, diam, diampct } = commentloc ?? {};\r\n\r\n    const saveComment = (comment) => {\r\n        let temp_photo;\r\n        if(photo.comments) {\r\n        temp_photo = {...photo, \r\n            comments: [\r\n                ...photo.comments, \r\n                {\r\n                    user_id: user.sub,\r\n                    user_name: user.name,\r\n                    x: xpct,\r\n                    y: ypct,\r\n                    diam: diampct,\r\n                    comment: textvalue\r\n                }\r\n            ] };\r\n        } else {\r\n            temp_photo = {...photo, \r\n                comments: [\r\n                    {\r\n                        user_id: user.sub,\r\n                        user_name: user.name,\r\n                        x: xpct,\r\n                        y: ypct,\r\n                        diam: diampct,\r\n                        comment: textvalue\r\n                    }\r\n                ] };\r\n        }\r\n        setPhoto(temp_photo);\r\n        console.log(\"Saving photo\", temp_photo, \"To path: \", photo._id);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + photo._id, temp_photo)\r\n            .then(res => setPhoto(res.photo[0]))\r\n            .catch(err => console.log(err));\r\n        setCommentLoc(null);\r\n        setTextValue(\"Enter text here . . . \");\r\n        setActiveComment(null);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Target xloc={xloc} yloc={yloc} diam={diam} active={true} hidden={commentloc===null}/>\r\n            <div className={commentloc ?  styles.addcomment : styles.hidden } \r\n                style={commentloc ? \r\n                    { \r\n                        position: \"absolute\",\r\n                        top: yloc + diam / 2 + 10,\r\n                        left: Math.max(xloc - 300,0)\r\n                    } : \r\n                    null }\r\n                >\r\n                \r\n                <form name=\"AddComment\">\r\n                    <textarea rows=\"4\" cols=\"75\" name=\"comment\" value={textvalue} onChange={(e)=>setTextValue(e.target.value)}></textarea>\r\n                    <button type=\"button\" onClick={saveComment}>Submit</button>\r\n                    <button type=\"button\" onClick={() => { setTextValue(\"Enter text here . . . \"); setCommentLoc(null);;}}>Cancel</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddComment;\r\n","import React, { useState, useEffect, useRef }from 'react';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport styles from './Details.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from '../views/auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport AddComment from './addcomment';\r\nimport Target from \"./target\";\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default function PhotoPage(props) {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id, togallery, isnew }  = props;\r\n    const [ photo, setPhoto ] = useState({});\r\n    const [ editMode, setEditMode ] = useState(false);\r\n    const [ commentloc, setCommentLoc ] = useState(null);\r\n    const [ activecomment, setActiveComment ] = useState(null);\r\n    const [diam, setDiam ] = useState(10);\r\n    const [selection, setSelection ] = useState({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n    const [value, setValue] = React.useState(2);\r\n    const [gallery, setGallery] = useState({});\r\n    const image = useRef(null);\r\n    const imgcontainer = useRef(null);\r\n    const Navigate = useNavigate();\r\n    \r\n    let imagebox;\r\n\r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            if(isnew) {\r\n                setPhoto( { ratings: []} );\r\n                setEditMode(true);\r\n                setGallery({ gallery_id: togallery })\r\n            } else {\r\n                auth0SecureAPI(getAccessTokenSilently, \"photos/\" + id)\r\n                    .then(res => {\r\n                        setPhoto({...res.photo[0], gallery_name: res.gallery_name, gallery_id: res._id});\r\n                        setGallery( {gallery_name: res.gallery_name, gallery_id: res._id})\r\n                        for(const rating of res.photo[0].ratings) {\r\n                            console.log(\"looking at\", rating.user_id)\r\n                            if(rating.user_id === user.sub) {\r\n                                setValue(rating.rating);\r\n                                break;\r\n                            }\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err));\r\n            }\r\n        }\r\n        \r\n    },[isLoading]);\r\n\r\n    const clickEdit = () => {\r\n        if(editMode) {\r\n            if(isnew) {\r\n                auth0SecureAPI(getAccessTokenSilently, \"photos/add/\" + togallery, photo)\r\n                .then(res => { \r\n                    setPhoto({...res.photo[res.photo.length - 1]});\r\n                    setGallery({gallery_name: res.gallery_name, gallery_id: res._id})    \r\n                })\r\n                .catch(err => console.log(err));\r\n            } else {    \r\n                auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, photo)\r\n                    .catch(err => console.log(err));\r\n            }\r\n        }\r\n        setEditMode(!editMode);\r\n    }\r\n\r\n    const mouseUp = (event) => {\r\n        if(!selection.hidden) {\r\n            imagebox = (image.current.getBoundingClientRect());\r\n            let xpct = Math.min(100,Math.round((selection.xloc - imagebox.left - window.pageXOffset) / imagebox.width * 100));\r\n            let ypct = Math.min(100,Math.round((selection.yloc - imagebox.top - window.pageYOffset) / imagebox.height * 100));\r\n            let diampct = Math.min(diam / imagebox.width * 100);\r\n            setCommentLoc( {\r\n                ...selection,\r\n                xpct: xpct,\r\n                ypct: ypct,\r\n                diam: diam,\r\n                diampct: diampct\r\n            })\r\n            setActiveComment(null);\r\n            setSelection({ xloc: 0, yloc: 0, diam: 10, hidden: true});\r\n        }\r\n    }\r\n\r\n    const mouseMove = (event) => {\r\n        if(!selection.hidden) { \r\n            event.preventDefault();\r\n            const selectiondiam = Math.max(10, 2* Math.sqrt((event.clientX + window.pageXOffset - selection.xloc)**2 + (event.clientY + window.pageYOffset - selection.yloc)**2));\r\n            setDiam(selectiondiam);\r\n        }\r\n    }\r\n\r\n    const mouseDown = (event) => {\r\n        const new_selection = {\r\n            xloc: event.clientX + window.pageXOffset,\r\n            yloc: event.clientY + window.pageYOffset,\r\n            diam: diam,\r\n            hidden: false\r\n        };\r\n        setSelection(new_selection);\r\n        setDiam(10);\r\n        setActiveComment(null);\r\n    }\r\n\r\n    const setMyRating = (newrating) => {\r\n        console.log(photo);\r\n        let found = false;\r\n        let temp_photo;\r\n        if(!photo.ratings || !photo.ratings.length) {\r\n            temp_photo = { ...photo,\r\n                ratings: [ {\r\n                    rating: newrating,\r\n                    user_id: user.sub,\r\n                    user_name: user.name\r\n                } ] \r\n            }\r\n        } else {\r\n            temp_photo = { ...photo,\r\n                ratings: photo.ratings.map(rating => {\r\n                    if(rating.user_id === user.sub) {\r\n                        found = true;\r\n                        return { \r\n                            ...rating,\r\n                            rating: newrating,\r\n                            user_name: user.name\r\n                        }\r\n                    } else {\r\n                        return rating;\r\n                    }\r\n                } )\r\n            }\r\n            if(!found) {\r\n                temp_photo = { ...temp_photo,\r\n                    ratings: [ ...temp_photo.ratings, {\r\n                        rating: newrating,\r\n                        user_id: user.sub,\r\n                        user_name: user.name,\r\n                    } ] \r\n                }\r\n            }\r\n        }\r\n        setPhoto(temp_photo);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, temp_photo)\r\n            .catch(err => console.log(err));\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <h1 class=\"UserName\">Picture Name Goes Here</h1>\r\n            <div ref={imgcontainer} id=\"img_container\" name=\"imagecontainer\"  onMouseUp={mouseUp} onMouseMove={mouseMove}>\r\n                <Target key=\"selector\" xloc={selection.xloc} yloc={selection.yloc} diam={diam} active={true} hidden={selection.hidden}/>\r\n                <img onLoad={() => setActiveComment(27)} src={photo.path} ref={image}  alt=\"User submitted with comments\" onMouseDown={mouseDown}/>\r\n                { photo.comments && photo.comments.map((comment, index) => {\r\n                    imagebox = (image.current.getBoundingClientRect());\r\n                    const xloc = (comment.x / 100 * imagebox.width) + imagebox.left + window.pageXOffset;\r\n                    const yloc = (comment.y / 100 * imagebox.height) + imagebox.top + window.pageYOffset;\r\n                    const showdiam = (comment.diam / 100 * imagebox.width);\r\n                    const clickTarget = () => {\r\n                        if(activecomment === comment._id) {\r\n                            setActiveComment(null)\r\n                        } else {\r\n                            setActiveComment(comment._id)\r\n                        }\r\n                    }\r\n                    return (\r\n                        <>\r\n                            <Target key={comment._id} onClick={(event) => {\r\n                                event.stopPropagation();\r\n                                clickTarget();\r\n                                }} xloc={xloc} yloc={yloc} diam={showdiam} active={(activecomment === comment._id)} hidden={false} text={index+1}/>\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"star\">\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                    My Rating:\r\n                    <Rating\r\n                        name=\"simple-controlled\"\r\n                        value={value}\r\n                        onChange={(event, newValue) => { if(!editMode) {\r\n                            setValue(newValue);\r\n                            setMyRating(newValue);\r\n                        }\r\n                        }}\r\n                    />\r\n                </Box>\r\n            </div>\r\n            \r\n            <Button onClick={clickEdit}>{editMode ? \"Save\" : \"Edit\"}</Button>\r\n            <form className={!editMode ? \" \" + styles.invisible : styles.floating }>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto( {...photo, path: e.target.value} ) } />\r\n                <Button onClick={() => setEditMode(false)}>Cancel</Button>\r\n            </form>\r\n            <AddComment comment={activecomment} setActiveComment={setActiveComment} commentloc={commentloc} setCommentLoc={setCommentLoc} photo={photo} setPhoto={setPhoto} />\r\n            <h5>Ratings</h5>\r\n            <ListGroup>\r\n                <ListGroup.Item>\r\n                { photo.ratings && photo.ratings.map((rating) => {\r\n                    return (\r\n                        <p>{rating.user_name} - {rating.rating}</p>\r\n                    )\r\n                })}\r\n                </ListGroup.Item>\r\n            </ListGroup>\r\n            \r\n            <h5>Comments</h5>\r\n            <ListGroup>\r\n                <ListGroup.Item>\r\n                    { photo.comments && photo.comments.map((comment, index) => {\r\n                        return (\r\n                            <>\r\n                                <p className={(activecomment === comment._id) ? styles.active : styles.regular}>{`${index + 1}: ${comment.user_name} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                            </>\r\n                        )\r\n                    })}\r\n                </ListGroup.Item>\r\n            </ListGroup>\r\n            <button onClick={() => Navigate(\"/gallery/\" + gallery.gallery_id)}>Go back to gallery!</button>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Login from './views/login';\r\nimport { Router } from \"@reach/router\";\r\nimport Galleries from './views/galleries';\r\nimport Gallery from \"./views/gallery\";\r\nimport PhotoPage from \"./Components/Details\";\r\n//import BasicPhotoPage from \"./basicphotopage\";\r\n\r\nconst AuthRoutes = props => {\r\n    const { isAuthenticated, isLoading } = useAuth0();\r\n    \r\n    if(isLoading) {\r\n        return (\r\n            <div>Loading . . . </div>\r\n        )\r\n    }\r\n\r\n    if(!isAuthenticated) {\r\n        return(\r\n            <div>\r\n                <h1>Not Logged In</h1>\r\n                <p>You must be logged in to perform this action.</p>\r\n                <Login />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Router>\r\n                <Galleries path=\"/loggedin\"/>\r\n                <Gallery path=\"/gallery/new\" isnew={true} />\r\n                <Gallery path=\"/gallery/:id\" />\r\n                <PhotoPage path=\"/Detail/new/:togallery\" isnew={true}/>\r\n                <PhotoPage path=\"/Detail/:id\" />\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AuthRoutes;\r\n\r\n/*\r\n<BasicPhotoPage path=\"/photos/new/:togallery\" isnew={true} />\r\n                <BasicPhotoPage path=\"/photos/:id\" isnew={false} />\r\n                <BasicGallery path=\"/gallery/new\" isnew={true} />\r\n                <BasicGallery path=\"/gallery/:id\"  isnew={false} />\r\n                */","import {  navigate } from '@reach/router'\r\nimport Card from 'react-bootstrap/Card'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CardDeck from 'react-bootstrap/CardDeck'\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\n\r\nconst FetchGalleries = async () => {\r\n    try {\r\n        const response = await fetch(\"http://localhost:8000/api/photos/owner/123\")\r\n        //console.log(response.json())\r\n        return response.json();\r\n            //setGalleries(res.json()))\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nconst GalleriesNoLogin = (props) => {\r\n    const [ galleries, setGalleries ] = useState([]);\r\n    const user = { name: \"No login\"}\r\n    //const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        FetchGalleries()\r\n            .then(res => setGalleries(res));\r\n    });\r\n\r\n    return (\r\n        <div className=\"Main\" style={{ width: \"auto\" }}>\r\n            <h1 className=\"UserName\">{user.name}</h1>\r\n            <Button onClick={navigate.bind(this, '/gallery/new')}>Add gallery!</Button>\r\n            <CardDeck>\r\n                {galleries && galleries.map(gallery => (\r\n                    <Card key={gallery._id}>\r\n                        <Card.Img variant=\"top\" src={gallery.photo[0] && gallery.photo[0].path} />\r\n                        <Card.Title>{gallery.gallery_name}</Card.Title>\r\n                        <Card.Body>\r\n                            <Card.Title>{gallery.title}</Card.Title>\r\n                            <p>Photos: {gallery.photo.length}</p>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button onClick={navigate.bind(this, '/gallery/' + gallery._id)}>View Gallery</Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                ))}\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesNoLogin;","import './App.css';\r\nimport {Router} from '@reach/router'\r\nimport Login from './views/login'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AuthRoutes from './authroutes';\r\nimport GalleriesNoLogin from \"./views/galleries_nologin\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Login path=\"/\"/>\r\n        <GalleriesNoLogin path=\"/nologin/\"/>\r\n        <AuthRoutes path=\"/*\" />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Auth0Provider \r\n        domain=\"dev-ikbjrful.us.auth0.com\" \r\n        clientId=\"3rDcBgHYzrw6x2tdXuVTNwR07RwwkVC8\"\r\n        redirectUri={ \"http://localhost:3000/loggedin/\"}\r\n        audience=\"http://localhost:8000/api/\"\r\n        scope=\"read:any\">\r\n        <App />\r\n      </Auth0Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}