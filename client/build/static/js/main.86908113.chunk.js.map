{"version":3,"sources":["views/photopage.module.css","views/newphotopage.module.css","views/galleries.module.css","Components/addcomment.module.css","views/photo.module.css","views/login.js","views/auth0secureapi.js","views/photo.js","views/newgallery.js","views/newphotopage.js","views/galleries.js","views/gallery.js","Components/target.js","Components/addcomment.js","views/photopage.js","views/navbar.js","authroutes.js","views/galleries_nologin.js","App.js","reportWebVitals.js","index.js","views/gallery.module.css"],"names":["module","exports","Login","useAuth0","loginWithRedirect","logout","type","onClick","auth0SecureAPI","getAccessTokenSilently","endpoint","body","a","accessToken","payload","method","headers","Authorization","JSON","stringify","fetch","response","json","console","log","message","Photo","props","photo","path","_id","ratings","comments","Navigate","useNavigate","className","styles","small","src","alt","map","rating","user_id","comment","x","y","Gallery","user","isLoading","useState","gallery","setGallery","useEffect","gallery_name","authorized_user_ids","container","floating","name","value","onChange","e","target","toString","split","gallery_update","owner_id","sub","then","res","catch","err","NewPhotoPage","togallery","setPhoto","gallery_id","length","Galleries","isAuthenticated","galleries","setGalleries","setNavPath","temp_galleries","link","index","thumbnail","id","photoslist","editMode","setEditMode","invisible","visible","topalign","Target","onClickPassed","xloc","yloc","diam","active","hidden","text","showdiam","Math","max","style","display","position","border","top","left","borderRadius","width","height","padding","margin","color","onMouseDown","stopPropagation","AddComment","commentloc","setCommentLoc","setActiveComment","textvalue","setTextValue","xpct","ypct","diampct","addcomment","rows","cols","temp_photo","user_name","PhotoPage","imagebox","setValue","activecomment","setDiam","selection","setSelection","image","useRef","imgcontainer","ref","event","current","getBoundingClientRect","new_selection","clientX","clientY","onMouseUp","round","onMouseMove","preventDefault","selectiondiam","sqrt","onLoad","Box","component","mb","borderColor","Rating","newValue","newrating","found","setMyRating","regular","UserBar","picture","navpath","textAlign","step","href","maxWidth","maxHeight","AuthRoutes","FetchGalleries","GalleriesNoLogin","Button","navigate","bind","CardDeck","Card","Img","variant","Title","Body","title","Footer","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","domain","clientId","redirectUri","audience","scope","document","getElementById"],"mappings":"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","file":"static/js/main.86908113.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"photopage_container__GUJqG\",\"invisible\":\"photopage_invisible__3k6NC\",\"floating\":\"photopage_floating__3-nOm\",\"active\":\"photopage_active__3lihy\",\"regular\":\"photopage_regular__2qyBY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"newphotopage_container__3u8Ys\",\"invisible\":\"newphotopage_invisible__V0F9x\",\"floating\":\"newphotopage_floating__HliyZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"invisible\":\"galleries_invisible__6bZJt\",\"visible\":\"galleries_visible__2LFml\",\"gallery\":\"galleries_gallery__3WSy6\",\"thumbnail\":\"galleries_thumbnail__wmdhg\",\"topalign\":\"galleries_topalign__NkLNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hidden\":\"addcomment_hidden__1gKDJ\",\"addcomment\":\"addcomment_addcomment__DweRn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"small\":\"photo_small__2tgGO\"};","import React from \"react\";\r\nimport {Link} from \"@reach/router\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n//import styles from \"./login.module.css\"; \r\n\r\nconst Login = () => {\r\n    const { loginWithRedirect,logout } = useAuth0();\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1 >Welcome to Photo Commentor</h1>\r\n                <button type='button' onClick={() => loginWithRedirect()}>Login or Register</button>\r\n                <button type='button' onClick={() => logout()}>Logout</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","const auth0SecureAPI = async (getAccessTokenSilently, endpoint, body) => {\r\n    let payload;\r\n    try {\r\n        const accessToken = await getAccessTokenSilently({});\r\n        let response;\r\n        if(body) {\r\n            payload = {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(body)\r\n            };\r\n        } else {\r\n            payload = {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                }\r\n            };\r\n        }\r\n        response = await fetch(\"http://localhost:8002/api/\" + endpoint, payload);\r\n        return response.json();\r\n    } catch (e) {\r\n        console.log(e.message);\r\n    }\r\n}\r\n\r\nexport default auth0SecureAPI;","import { useNavigate } from '@reach/router';\r\nimport React from 'react';\r\nimport styles from './photo.module.css';\r\n\r\n\r\n\r\nconst Photo = props => {\r\n    const { path, _id, ratings, comments } = props.photo;\r\n    const Navigate = useNavigate();\r\n    \r\n    return (\r\n        <div className={styles.small} onClick={() => Navigate(\"/photos/\" + _id)}>\r\n            <img src={path} alt=\"Comment-tagged\"/>\r\n            <h5>Ratings</h5>\r\n            { ratings && ratings.map((rating) => {\r\n                return (\r\n                    <p>{rating.user_id} - {rating.rating}</p>\r\n                )\r\n            })}\r\n            <h5>Comments</h5>\r\n            { comments && comments.map((comment) => {\r\n                return (\r\n                    <p>{`${comment.user_id} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst Gallery = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [ gallery, setGallery ] = useState({});\r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            setGallery({gallery_name:\"New gallery . . . \", authorized_user_ids: \"List authorized users . . . \"});\r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: user.sub\r\n        }\r\n        console.log(gallery_update);\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/new\", gallery_update)\r\n        .then(res => {\r\n            Navigate(\"/gallery/\" + res._id);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <button onClick={()=> Navigate(\"/loggedin/\")}>Back to gallery list!</button>\r\n            <h2>Please enter information for your new gallery.</h2>\r\n            <form className={ styles.floating }>\r\n                <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                <label> Authorized Users (separate by commas): </label>\r\n                <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                <button type=\"button\" name=\"save\" onClick={saveGallery}>Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './newphotopage.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst NewPhotoPage = props => {\r\n    const { isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { togallery }  = props;\r\n    const [ photo, setPhoto ] = useState({});\r\n    \r\n    const Navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            setPhoto( {gallery_id: togallery} );\r\n        }\r\n        console.log(\"Ran use effect\");\r\n    },[isLoading]);\r\n\r\n    const savePhoto = () => {\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/add/\" + togallery, photo)\r\n        .then(res => {\r\n                console.log(res);\r\n                Navigate(\"/photos/\" + res.photo[res.photo.length - 1]._id);\r\n            })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    \r\n    return(\r\n        <div className={styles.container}>\r\n            <img src={photo.path} alt=\"User submitted with comments\" />\r\n            <button onClick={savePhoto}>Save</button>\r\n            <form className={ styles.floating}>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto( {...photo, path: e.target.value} ) } />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPhotoPage;","import React, { useState, useEffect } from 'react';\r\n//import LogOutButton from './logout';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport styles from \"./galleries.module.css\";\r\n\r\nconst Galleries = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const [galleries, setGalleries] = useState([]);\r\n    const Navigate = useNavigate();\r\n    const { setNavPath } = props;\r\n\r\n    \r\n    useEffect(() => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            setNavPath( [\r\n                { name:user.name + \" Galleries\",\r\n                    link: \"/loggedin/\"\r\n                }\r\n            ])\r\n        }\r\n    },[isLoading]);\r\n\r\n    const runRetrieve = () => {\r\n        if(!isLoading) {\r\n            console.log(\"Retrieving galleries!\");\r\n            let temp_galleries = galleries;\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/owner/\" + user.sub)\r\n                .then(res => { \r\n                    temp_galleries = res;\r\n                    setGalleries(temp_galleries);\r\n                    console.log(\"Galleries:\", temp_galleries);\r\n                })\r\n                .catch(err => console.log(err));\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div>\r\n                <button onClick={runRetrieve}>Run retrieve again!</button>\r\n                <button name=\"addnewgallery\" onClick={() => Navigate(\"/gallery/new\")}>Add new gallery!</button>\r\n            </div>\r\n            { galleries && galleries.map((gallery) => {\r\n                return (\r\n                    <div className={styles.gallery} onClick={() => Navigate(\"/gallery/\" + gallery._id)}>\r\n                        <h2>{gallery.gallery_name}</h2>\r\n                        <p>Photo Count: {gallery.photo.length}</p>\r\n                        { gallery.photo.length && gallery.photo.map((photo, index) => {\r\n                            if(index>4) { return };\r\n                            return (\r\n                                <img className={styles.thumbnail} alt=\"User submitted\" src={photo.path} />\r\n                            )\r\n                            })\r\n                        }\r\n                    </div> )\r\n            })}\r\n        </div>\r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Galleries;","import React, { useState, useEffect } from 'react';\r\n//import Axios from 'axios';\r\nimport styles from './gallery.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport Photo from './photo';\r\nimport { useNavigate } from '@reach/router';\r\n\r\n\r\nconst Gallery = props => {\r\n    const { user, isAuthenticated, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id }  = props;\r\n    const [ gallery, setGallery ] = useState({});\r\n    const photoslist = gallery.photo ?? [];\r\n    const [editMode, setEditMode ] = useState(false);\r\n    const Navigate = useNavigate();\r\n    const { setNavPath } = props;\r\n\r\n    useEffect(() => {\r\n        if(!isLoading ) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/gallery/\" + id)\r\n            .then(res => {\r\n                setGallery(res[0]);\r\n                setNavPath( [\r\n                    { name: user.name + \" Galleries\",\r\n                        link: \"/loggedin/\"\r\n                    },\r\n                    { name: res[0].gallery_name,\r\n                    link: \"/gallery/\" + id\r\n                    }\r\n                ])\r\n            })\r\n            .catch(err => console.log(err));   \r\n\r\n            \r\n        }\r\n    },[isLoading]);\r\n\r\n    const saveGallery = () => {\r\n        const gallery_update = {\r\n            gallery_name: gallery.gallery_name,\r\n            authorized_user_ids: gallery.authorized_user_ids,\r\n            owner_id: gallery.owner_id\r\n        }\r\n        auth0SecureAPI(getAccessTokenSilently, \"gallery/update/\" + id, gallery_update)\r\n            .catch(err => console.log(err));\r\n        setEditMode(false);\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <div>\r\n                <button onClick={()=> Navigate(\"/loggedin/\")}>Back to gallery list!</button>\r\n                <h2>{gallery.gallery_name}</h2>\r\n                <p>Authorized Users: {gallery.authorized_user_ids}</p>\r\n                <button className={ editMode ? styles.invisible : styles.visible } type=\"button\" name=\"editformgo\" onClick={() => setEditMode(true)}>Edit</button>\r\n                \r\n                <form className={ editMode ? styles.floating : styles.invisible }>\r\n                    <input type=\"text\" name=\"name\" value={gallery.gallery_name} onChange={(e) => setGallery({...gallery, gallery_name: e.target.value})}/>\r\n                    <label> Authorized Users (separate by commas): </label>\r\n                    <input type=\"text\" name=\"name\" value={gallery.authorized_user_ids} onChange={(e) => setGallery({...gallery, authorized_user_ids: e.target.value.toString().split(\",\")})}/>\r\n                    <button className={ editMode ? styles.visible : styles.invisible } type=\"button\" name=\"save\" onClick={saveGallery}>Edit</button>\r\n                    <button type=\"button\" name=\"editformcancel\" onClick={() => setEditMode(false)}>Cancel</button>\r\n                </form>\r\n                <button onClick={()=> Navigate(\"/photos/new/\" + gallery._id)}>Add new photo.</button>\r\n            \r\n            </div>\r\n            <div className={styles.topalign}>\r\n                { photoslist && photoslist.map((photo) => {\r\n                    return(\r\n                        <Photo photo={photo} />\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Gallery;","import React from 'react';\r\n\r\nconst Target = props => {\r\n    const { xloc, yloc, diam, active, hidden = false, onClick, text=\"\" } = props;\r\n    let showdiam = Math.max(diam, 10);\r\n    if(typeof(showdiam)!== \"number\") { showdiam = 10};\r\n    \r\n    let onClickPassed;\r\n    onClick ? onClickPassed = onClick : onClickPassed = () => {};\r\n\r\n    return (\r\n        <div style={{\r\n            display: hidden ? \"none\" : \"block\",\r\n            position: \"absolute\",\r\n            border: active ? \"3px solid red\" : \"3px dashed white\",\r\n            top: yloc - (showdiam / 2) + \"px\",\r\n            left: xloc - (showdiam / 2) + \"px\",\r\n            borderRadius: showdiam + \"px\",\r\n            width: showdiam - 3 + \"px\",\r\n            height: showdiam - 3 + \"px\",\r\n            padding: diam / 8 + \"px\",\r\n            margin: \"0px\",\r\n            color: \"white\",\r\n        }} onClick={onClickPassed} onMouseDown={(e) => e.stopPropagation()}>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Target;","import React, { useState } from 'react';\r\nimport styles from './addcomment.module.css';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from '../views/auth0secureapi';\r\nimport Target from './target';\r\n\r\nconst AddComment = props => {\r\n    const { photo, setPhoto, commentloc, setCommentLoc, setActiveComment } = props;\r\n    const { user, getAccessTokenSilently } = useAuth0();\r\n    const [ textvalue, setTextValue ] = useState(\"Enter text here . . . \")\r\n    const { xloc, yloc, xpct, ypct, diam, diampct } = commentloc ?? {};\r\n\r\n    const saveComment = (comment) => {\r\n        let temp_photo;\r\n        if(photo.comments) {\r\n        temp_photo = {...photo, \r\n            comments: [\r\n                ...photo.comments, \r\n                {\r\n                    user_id: user.sub,\r\n                    user_name: user.name,\r\n                    x: xpct,\r\n                    y: ypct,\r\n                    diam: diampct,\r\n                    comment: textvalue\r\n                }\r\n            ] };\r\n        } else {\r\n            temp_photo = {...photo, \r\n                comments: [\r\n                    {\r\n                        user_id: user.sub,\r\n                        user_name: user.name,\r\n                        x: xpct,\r\n                        y: ypct,\r\n                        diam: diampct,\r\n                        comment: textvalue\r\n                    }\r\n                ] };\r\n        }\r\n        setPhoto(temp_photo);\r\n        console.log(\"Saving photo\", temp_photo, \"To path: \", photo._id);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + photo._id, temp_photo)\r\n            .then(res => setPhoto(res.photo[0]))\r\n            .catch(err => console.log(err));\r\n        setCommentLoc(null);\r\n        setTextValue(\"Enter text here . . . \");\r\n        setActiveComment(null);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Target xloc={xloc} yloc={yloc} diam={diam} active={true} hidden={commentloc===null}/>\r\n            <div className={commentloc ?  styles.addcomment : styles.hidden } \r\n                style={commentloc ? \r\n                    { \r\n                        position: \"absolute\",\r\n                        top: yloc + diam / 2 + 10,\r\n                        left: Math.max(xloc - 300,0)\r\n                    } : \r\n                    null }\r\n                >\r\n                \r\n                <form name=\"AddComment\">\r\n                    <textarea rows=\"4\" cols=\"75\" name=\"comment\" value={textvalue} onChange={(e)=>setTextValue(e.target.value)}></textarea>\r\n                    <button type=\"button\" onClick={saveComment}>Submit</button>\r\n                    <button type=\"button\" onClick={() => { setTextValue(\"Enter text here . . . \"); setCommentLoc(null);;}}>Cancel</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddComment;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styles from './photopage.module.css';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\nimport { useNavigate } from '@reach/router';\r\nimport AddComment from '../Components/addcomment';\r\nimport Target from \"../Components/target\";\r\n\r\n\r\nconst PhotoPage = props => {\r\n    const { user, isLoading, getAccessTokenSilently } = useAuth0();\r\n    const { id } = props;\r\n    const [value, setValue] = useState(0)\r\n    const [photo, setPhoto] = useState({});\r\n    const [gallery, setGallery] = useState({});\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [commentloc, setCommentLoc] = useState(null);\r\n    const [activecomment, setActiveComment] = useState(null);\r\n    const [diam, setDiam] = useState(10);\r\n    const [selection, setSelection] = useState({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n\r\n    const image = useRef(null);\r\n    const imgcontainer = useRef(null);\r\n    const Navigate = useNavigate();\r\n    \r\n    let imagebox;\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/\" + id)\r\n                .then(res => {\r\n                    console.log(res.photo[0])\r\n                    setPhoto({ ...res.photo[0], gallery_name: res.gallery_name, gallery_id: res._id });\r\n                    setGallery( {gallery_name: res.gallery_name, gallery_id: res._id})\r\n                    for (const rating of res.photo[0].ratings) {\r\n                        console.log(\"looking at\", rating.user_id);\r\n                        if (rating.user_id === user.sub) {\r\n                            setValue(rating.rating);\r\n                            break;\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => console.log(err));\r\n                \r\n        }\r\n        console.log(\"Ran use effect\");\r\n    }, [isLoading]);\r\n\r\n    const clickEdit = () => {\r\n        if (editMode) {\r\n            auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, photo)\r\n                .then(res => {\r\n                    setPhoto({...res.photo[res.photo.length - 1]});\r\n                    setGallery({gallery_name: res.gallery_name, gallery_id: res._id})\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n        setEditMode(!editMode);\r\n    }\r\n\r\n    const mouseUp = (event) => {\r\n        if (!selection.hidden) {\r\n            imagebox = (image.current.getBoundingClientRect());\r\n            let xpct = Math.round((selection.xloc - imagebox.left) / imagebox.width * 100);\r\n            let ypct = Math.round((selection.yloc - imagebox.top) / imagebox.height * 100);\r\n            let diampct = diam / imagebox.width * 100;\r\n            setCommentLoc({\r\n                ...selection,\r\n                xpct: xpct,\r\n                ypct: ypct,\r\n                diam: diam,\r\n                diampct: diampct\r\n            })\r\n            setActiveComment(null);\r\n            setSelection({ xloc: 0, yloc: 0, diam: 10, hidden: true });\r\n        }\r\n    }\r\n\r\n    const mouseMove = (event) => {\r\n        imagebox = (image.current.getBoundingClientRect());\r\n        if (!selection.hidden) {\r\n            event.preventDefault();\r\n            const selectiondiam = Math.max(10, 2 * Math.sqrt(((event.clientX - imagebox.left) - selection.xloc) ** 2 + ((event.clientY - imagebox.top) - selection.yloc) ** 2));\r\n            setDiam(selectiondiam);\r\n        }\r\n    }\r\n\r\n    const mouseDown = (event) => {\r\n        imagebox = (image.current.getBoundingClientRect());\r\n        const new_selection = {\r\n            xloc: event.clientX - imagebox.left,\r\n            yloc: event.clientY - imagebox.top,\r\n            diam: diam,\r\n            hidden: false\r\n        };\r\n        setSelection(new_selection);\r\n        setDiam(10);\r\n        setActiveComment(null);\r\n    }\r\n\r\n    const setMyRating = (newrating) => {\r\n        let found = false;\r\n        let temp_photo\r\n        if (!photo.ratings || !photo.ratings.length) {\r\n            temp_photo = {\r\n                ...photo,\r\n                ratings: [{\r\n                    rating: newrating,\r\n                    user_id: user.sub,\r\n                    user_name: user.name\r\n                }]\r\n            }\r\n        } else {\r\n            temp_photo = {\r\n                ...photo,\r\n                ratings: photo.ratings.map(rating => {\r\n                    if (rating.user_id === user.sub) {\r\n                        found = true;\r\n                        return {\r\n                            ...rating,\r\n                            rating: newrating,\r\n                            user_name: user.name\r\n                        }\r\n                    } else {\r\n                        return rating;\r\n                    }\r\n                })\r\n            }\r\n            if (!found) {\r\n                temp_photo = {\r\n                    ...temp_photo,\r\n                    ratings: [...temp_photo.ratings, {\r\n                        rating: newrating,\r\n                        user_id: user.sub,\r\n                        user_name: user.name\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n        setPhoto(temp_photo);\r\n        auth0SecureAPI(getAccessTokenSilently, \"photos/update/\" + id, temp_photo)\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div ref={imgcontainer} id=\"img_container\" name=\"imagecontainer\" onMouseDown={mouseDown} onMouseUp={mouseUp} onMouseMove={mouseMove}>\r\n                <Target key=\"selector\" xloc={selection.xloc} yloc={selection.yloc} diam={diam} active={true} hidden={selection.hidden} />\r\n                <img onLoad={() => setActiveComment(27)} src={photo.path} ref={image} alt=\"User submitted with comments\" />\r\n                {photo.comments && photo.comments.map((comment, index) => {\r\n                    imagebox = (image.current.getBoundingClientRect());\r\n                    const xloc = (comment.x / 100 * imagebox.width) + imagebox.left;\r\n                    const yloc = (comment.y / 100 * imagebox.height) + imagebox.top;\r\n                    console.log(comment.x, comment.y, comment.diam)\r\n                    const showdiam = (comment.diam / 100 * imagebox.width);\r\n                    const clickTarget = () => {\r\n                        if (activecomment === comment._id) {\r\n                            setActiveComment(null)\r\n                        } else {\r\n                            setActiveComment(comment._id)\r\n                        }\r\n                    }\r\n                    return (\r\n                        <Target key={comment._id} onClick={(event) => {\r\n                            event.stopPropagation();\r\n                            clickTarget();\r\n                        }} xloc={xloc} yloc={yloc} diam={showdiam} active={(activecomment === comment._id)} hidden={false} text={index + 1} />\r\n                    )\r\n                })}\r\n            </div>\r\n            {//NEED TO RE-WRITE \r\n            }\r\n            <div className=\"star\">\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                    <Rating\r\n                        name=\"simple-controlled\"\r\n                        value={value}\r\n                        onChange={(event, newValue) => {\r\n                            setValue(newValue);\r\n                            setMyRating(newValue);\r\n                        }}\r\n                    />\r\n                </Box>\r\n            </div>\r\n            {//END RE-WRITE \r\n            }\r\n            <button onClick={clickEdit}>{editMode ? \"Save\" : \"Edit\"}</button>\r\n            <form className={!editMode ? \" \" + styles.invisible : styles.floating}>\r\n                <input type=\"text\" name=\"path\" value={photo.path} onChange={(e) => setPhoto({ ...photo, path: e.target.value })} />\r\n            </form>\r\n            <AddComment comment={activecomment} setActiveComment={setActiveComment} commentloc={commentloc} setCommentLoc={setCommentLoc} photo={photo} setPhoto={setPhoto} id={id} />\r\n            <h5>Ratings</h5>\r\n            { photo.ratings && photo.ratings.map((rating) => {\r\n                return (\r\n                    <p>{rating.user_name} - {rating.rating}</p>\r\n                )\r\n            })}\r\n            <h5>Comments</h5>\r\n            { photo.comments && photo.comments.map((comment, index) => {\r\n                const clickComment = () => {\r\n                    if (activecomment === comment._id) {\r\n                        setActiveComment(null)\r\n                    } else {\r\n                        setActiveComment(comment._id)\r\n                    }\r\n                }\r\n                return (\r\n                    <>\r\n                        <p onClick={clickComment} className={(activecomment === comment._id) ? styles.active : styles.regular}>{`${index + 1}: ${comment.user_name} (${comment.x}, ${comment.y}) - ${comment.comment}`}</p>\r\n                    </>\r\n                )\r\n            })}\r\n            <button onClick={() => Navigate(\"/gallery/\" + photo.gallery_id)}>Go back to gallery!</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PhotoPage;","import { navigate } from '@reach/router';\r\nimport React from 'react';\r\nimport { useNavigate } from '@reach/router'\r\n\r\nconst UserBar = props => {\r\n    const {name, picture, sub } = props.user;\r\n    const { navpath } = props;\r\n    const Navigate = useNavigate();\r\n\r\n    const style = {\r\n        maxWidth: \"40px\", \r\n        maxHeight: \"40px\",\r\n        border: \"1px solid darkgrey\",\r\n        borderRadius: \"20px\"\r\n    }\r\n        \r\n\r\n    return (\r\n        <div>\r\n            <div style={{display: \"inline-block\", width: \"700px\",  textAlign: \"left\"}}>\r\n                {console.log(\"Navpath: \", navpath)}\r\n                {navpath.length && navpath.map((step, index) => {\r\n                    return(\r\n                        <>\r\n                            <a href={step.link} onClick={(e) => { e.preventDefault(); Navigate(step.link)}}>{step.name}</a> \r\n                            { index < navpath.length - 1 ? <b>{` -> `}</b> : \"\"}\r\n                        </>\r\n                    )\r\n                }) }\r\n            </div>\r\n            <div style={{display: \"inline-block\", width: \"270px\", textAlign: \"right\"}}>\r\n                <h3>{name}</h3>\r\n                <img style={style} alt=\"User photo\" src={picture} />\r\n                <button onClick={() => Navigate(\"/user/\" + sub)}>Edit User</button>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default UserBar;","import React, { useState } from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport Login from './views/login';\r\nimport { Router } from \"@reach/router\";\r\nimport NewGallery from \"./views/newgallery\";\r\nimport NewPhotoPage from \"./views/newphotopage\";\r\nimport Galleries from './views/galleries';\r\nimport Gallery from \"./views/gallery\";\r\nimport PhotoPage from \"./views/photopage\";\r\nimport NavBar from \"./views/navbar\";\r\n\r\nconst AuthRoutes = props => {\r\n    const { user, isAuthenticated, isLoading } = useAuth0();\r\n    const [ navpath, setNavPath ] = useState([])\r\n\r\n    if(isLoading) {\r\n        return (\r\n            <div>Loading . . . </div>\r\n        )\r\n    }\r\n\r\n    if(!isAuthenticated) {\r\n        return(\r\n            <div>\r\n                <h1>Not Logged In</h1>\r\n                <p>You must be logged in to perform this action.</p>\r\n                <Login />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar user={user} navpath={navpath}/>\r\n            <Router>\r\n                <Galleries path=\"/loggedin\" setNavPath={ setNavPath }/>\r\n                <NewGallery path=\"/gallery/new\" />\r\n                <Gallery path=\"/gallery/:id\" setNavPath={ setNavPath }/>\r\n                <NewPhotoPage path=\"/photos/new/:togallery\" />\r\n                <PhotoPage path=\"/photos/:id\" setNavPath={ setNavPath }/>\r\n            </Router>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AuthRoutes;\r\n\r\n/*\r\n<BasicPhotoPage path=\"/photos/new/:togallery\" isnew={true} />\r\n                <BasicPhotoPage path=\"/photos/:id\" isnew={false} />\r\n                <BasicGallery path=\"/gallery/new\" isnew={true} />\r\n                <BasicGallery path=\"/gallery/:id\"  isnew={false} />\r\n                */","import {  navigate } from '@reach/router'\r\nimport Card from 'react-bootstrap/Card'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CardDeck from 'react-bootstrap/CardDeck'\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport auth0SecureAPI from './auth0secureapi';\r\n\r\nconst FetchGalleries = async () => {\r\n    try {\r\n        const response = await fetch(\"http://localhost:8000/api/photos/owner/123\")\r\n        //console.log(response.json())\r\n        return response.json();\r\n            //setGalleries(res.json()))\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nconst GalleriesNoLogin = (props) => {\r\n    const [ galleries, setGalleries ] = useState([]);\r\n    const user = { name: \"No login\"}\r\n    //const Navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        FetchGalleries()\r\n            .then(res => setGalleries(res));\r\n    });\r\n\r\n    return (\r\n        <div className=\"Main\" style={{ width: \"auto\" }}>\r\n            <h1 className=\"UserName\">{user.name}</h1>\r\n            <Button onClick={navigate.bind(this, '/gallery/new')}>Add gallery!</Button>\r\n            <CardDeck>\r\n                {galleries && galleries.map(gallery => (\r\n                    <Card key={gallery._id}>\r\n                        <Card.Img variant=\"top\" src={gallery.photo[0] && gallery.photo[0].path} />\r\n                        <Card.Title>{gallery.gallery_name}</Card.Title>\r\n                        <Card.Body>\r\n                            <Card.Title>{gallery.title}</Card.Title>\r\n                            <p>Photos: {gallery.photo.length}</p>\r\n                        </Card.Body>\r\n                        <Card.Footer>\r\n                            <Button onClick={navigate.bind(this, '/gallery/' + gallery._id)}>View Gallery</Button>\r\n                        </Card.Footer>\r\n                    </Card>\r\n                ))}\r\n            </CardDeck>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesNoLogin;","import './App.css';\r\nimport {Router} from '@reach/router'\r\nimport Login from './views/login'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AuthRoutes from './authroutes';\r\nimport GalleriesNoLogin from \"./views/galleries_nologin\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Login path=\"/\"/>\r\n        <GalleriesNoLogin path=\"/nologin/\"/>\r\n        <AuthRoutes path=\"/*\" />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Auth0Provider \r\n        domain=\"dev-08umzn2o.us.auth0.com\" \r\n        clientId=\"76OKk6yoIt4f4W4ChvVmYytfgRcZqI1I\"\r\n        redirectUri={ \"http://localhost:3000/loggedin/\"}\r\n        audience=\"https://localhost:8000/api/\"\r\n        scope=\"read:any\">\r\n        <App />\r\n      </Auth0Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gallery_container__1zL05\",\"invisible\":\"gallery_invisible__2g5X5\",\"visible\":\"gallery_visible__gRXYO\",\"floating\":\"gallery_floating__1MyD8\",\"topalign\":\"gallery_topalign__2_RN5\"};"],"sourceRoot":""}